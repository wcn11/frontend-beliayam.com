(window.webpackJsonp=window.webpackJsonp||[]).push([[38,31],{2287:function(t,e,n){var content=n(2316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("40880eac",content,!0,{sourceMap:!1})},2315:function(t,e,n){"use strict";n(2287)},2316:function(t,e,n){var r=n(23)(!1);r.push([t.i,".related-products-empty[data-v-e4b93d10]{font-size:24px}.item-img[data-v-e4b93d10]{max-height:150px}",""]),t.exports=r},2344:function(t,e,n){var content=n(2418);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("0e05673e",content,!0,{sourceMap:!1})},2365:function(t,e,n){"use strict";n.r(e);var r={name:"Index",props:["products"],data:function(){return{baseApi:"https://be-dev.beliayam.com",baseURL:"https://fe-dev.beliayam.com"}}},o=(n(2315),n(16)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.products&&t.products.length>0?n("div",{staticClass:"pick_today"},[n("h5",{staticClass:"mt-3 mb-3"},[t._v("Produk Terkait")]),t._v(" "),t.products&&t.products>0?n("div",{staticClass:"row"},t._l(t.products,(function(e){return n("div",{key:e._id,staticClass:"col-6 col-md-3 mb-3"},[n("div",{staticClass:"\n          list-card\n          bg-white\n          h-100\n          rounded\n          overflow-hidden\n          position-relative\n          shadow-sm\n        "},[n("div",{staticClass:"list-card-image"},[n("NuxtLink",{staticClass:"text-dark",attrs:{to:e.slug}},[n("div",{staticClass:"member-plan position-absolute"},[n("span",{staticClass:"badge m-3 badge-danger"},[t._v("10%")])]),t._v(" "),n("div",{staticClass:"p-3"},[n("img",{staticClass:"img-fluid item-img w-100 mb-3",attrs:{src:t.baseApi+"/"+e.image}}),t._v(" "),n("img",{staticClass:"img-fluid item-img w-100 mb-3",attrs:{src:this.$config.baseURL+"/default/product.jpg"}}),t._v(" "),n("h6",{staticStyle:{"white-space":"nowrap",width:"120px",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),n("h6",{staticClass:"price m-0 text-dark"},[n("i",{staticClass:"fas fa-weight"}),t._v(" 1 Ekor\n              ")]),t._v(" "),n("h6",{staticClass:"price m-0 text-dark",staticStyle:{"font-size":"large","text-align":"right"}},[t._v("\n                "+t._s(t._f("formatMoney")(e.price))+"\n              ")]),t._v(" "),n("div",{staticStyle:{"text-align":"center","padding-top":"5%"}},[n("h6",{staticClass:"btn btn-success w-100"},[n("i",{staticClass:"fas fa-cart-plus"}),t._v(" Tambahkan\n                ")])])])])],1)])])})),0):n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-12 mb-3 text-muted related-products-empty"},[t._v("\n      Belum ada produk terkait\n    ")])])]):t._e()}),[],!1,null,"e4b93d10",null);e.default=component.exports},2417:function(t,e,n){"use strict";n(2344)},2418:function(t,e,n){var r=n(23)(!1);r.push([t.i,".badge-discount[data-v-2906c8bb]{position:absolute;margin:2%}.badge-danger-out-of-stock[data-v-2906c8bb]{color:#ffe5e5;background-color:#cd4d00}.not-found-anything[data-v-2906c8bb]{margin:10%}.margin-bottom-10[data-v-2906c8bb]{margin-bottom:10px}#modal-cart-success[data-v-2906c8bb]{background-color:rgba(0,0,0,.56078);position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}",""]),t.exports=r},2461:function(t,e,n){"use strict";n.r(e);var r=n(5),o=(n(41),n(54),n(26),n(14),n(2269)),c=n.n(o),d=n(0),l=n.n(d);l.a.locale("id-ID");var m={name:"Products",components:{VueSlickCarousel:c.a},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("".concat("https://be-dev.beliayam.com/api/v1","/product/slug/").concat(t.$route.params.product)).then((function(e){t.product=e.data.data,t.getRelatedProducts()}));case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{relatedProducts:[],cart:{product_id:"",quantity:1,note:""},product:{},products:[],categorySetting:{page:1,show:10,sortBy:"ASC",orderBy:"name",status:"active"},settings:{infinite:!0,speed:300,slidesToShow:1,adaptiveHeight:!0,centerMode:!0,arrows:!1,dots:!0,autoplay:!0}}},methods:{getPriceLabel:function(){var t=this.product,e=t.price,n=l()().format();if(t.hasPromo&&t.hasPromo.isActive&&t.hasPromo.promoStart<n&&t.hasPromo.promoEnd>n)if("percent"===t.hasPromo.promoBy){var r=t.hasPromo.promoValue/100*t.price;e=t.price-r}else e="price"===t.promoBy?t.price-t.hasPromo.promoValue:t.price;else{if(!(t.hasDiscount&&t.hasDiscount.isDiscount&&t.hasDiscount.discountStart<n&&t.hasDiscount.discountEnd>n))return e;if("percent"===t.hasDiscount.discountBy){var o=t.hasDiscount.discount/100*t.price;e=t.price-o}else e="price"===t.hasDiscount.discountBy?t.price-t.hasDiscount.discount:t.price}return e},getPriceBadge:function(){var t=this.product,e=0,n=l()().format();if(t.hasPromo&&t.hasPromo.promoStart<n&&t.hasPromo.promoEnd>n)e="percent"===t.hasPromo.promoBy?t.hasPromo.promoValue:"price"===t.hasPromo.promoBy?t.hasPromo.discount/t.price*100:0;else{if(!(t.hasDiscount&&t.hasDiscount.isDiscount&&t.hasDiscount.discountStart<n&&t.hasDiscount.discountEnd>n))return e;e="percent"===t.hasDiscount.discountBy?t.hasDiscount.discount:"price"===t.hasDiscount.discountBy?t.hasDiscount.discount/t.price*100:t.price}return e},addProductToCart:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.product.stock<=0)){e.next=3;break}return $("#outOfStockModal").modal("show"),e.abrupt("return");case 3:if(t.$store.getters["auth/isAuthenticated"]){e.next=7;break}return t.$toast.success("Masuk Untuk Melanjutkan Belanja"),t.$router.push("/login"),e.abrupt("return");case 7:return e.next=9,t.$axios.$post("".concat("https://be-dev.beliayam.com/api/v1","/cart"),{product_id:t.product._id,user_id:t.$store.state.auth.user._id,quantity:t.cart.quantity,note:t.cart.note}).then((function(e){e.data.error||(t.resetCarts(),$("#modal-cart-success").css("display","block"))})).catch((function(t){console.log(t)}));case 9:case"end":return e.stop()}}),e)})))()},resetCarts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("cart/setCartsNav");case 2:case"end":return e.stop()}}),e)})))()},setIncrementQuantity:function(t){if(this.product.stock>parseInt(this.cart.quantity))return this.cart.quantity++;evt.preventDefault()},setDecrementQuantity:function(t){if(this.cart.quantity>1)return this.cart.quantity--;evt.preventDefault()},checkQuantity:function(t){""!==this.cart.quantity&&0!==parseInt(this.cart.quantity)||(this.cart.quantity="1",t.target.value="1"),parseInt(this.cart.quantity)>this.product.stock&&(this.cart.quantity=this.product.stock,t.target.value="".concat(this.product.stock))},setQuantity:function(t){this.cart.quantity=t.target.value},refresh:function(){this.$nuxt.refresh()},setRelatedProductsFilter:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.products.products.filter((function(e){return e.slug!==t.$route.params.product}));case 2:return e.abrupt("return",t.relatedProducts=e.sent);case 3:case"end":return e.stop()}}),e)})))()},getRelatedProducts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("".concat("https://be-dev.beliayam.com/api/v1","/category/_s?key=").concat(t.product.category[0].slug,"&page=").concat(t.categorySetting.page,"&show=").concat(t.categorySetting.show,"&sortBy=").concat(t.categorySetting.sortBy,"&orderBy=$").concat(t.categorySetting.orderBy,"&status=").concat(t.categorySetting.status)).then((function(e){t.products=e.data.data,t.setRelatedProductsFilter()}));case 2:case"end":return e.stop()}}),e)})))()},closeModal:function(){$("#modal-cart-success").css("display","none")},toFirstLetterUpperCase:function(t){return t[0].toUpperCase()+t.substring(1)},setScript:function(){$(document).ready((function(){$(".qtyplus").click((function(t){t.preventDefault();var e=$(this).attr("field"),n=parseInt($("input[name="+e+"]").val());isNaN(n)?$("input[name="+e+"]").val(1):$("input[name="+e+"]").val(n+1)})),$(".qtyminus").click((function(t){t.preventDefault();var e=$(this).attr("field"),n=parseInt($("input[name="+e+"]").val());!isNaN(n)&&n>1?$("input[name="+e+"]").val(n-1):$("input[name="+e+"]").val(1)}))}))},checkInput:function(t){return t.charCode>=48&&t.charCode<=57}},loading:{color:"red",height:"5px"},head:function(){return{title:"Produk Ayam Broiler",htmlAttrs:{lang:"en"}}},filters:{formatDate:function(t){return l()(t).format("DD-MM-yyyy, HH:mm")},formatMoney:function(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)}},mounted:function(){document.getElementById("page-product").classList.add("animate__fadeInRight"),this.setScript()},beforeDestroy:function(){document.getElementById("page-product").classList.add("animate__fadeOutLeft")}},v=(n(2417),n(16)),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animate__animated",attrs:{id:"page-product"}},[t.product&&Object.keys(t.product).length>0?n("div",[n("nav",{staticClass:"breadcrumb mb-0",attrs:{"aria-label":"breadcrumb"}},[n("div",{staticClass:"container"},[n("ul",{staticClass:"d-flex align-items-center mb-0 p-0 list-unstyled"},[n("li",{staticClass:"breadcrumb-item"},[n("NuxtLink",{staticClass:"text-danger",attrs:{to:"/"}},[t._v("Home")])],1),t._v(" "),n("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Produk")])])])]),t._v(" "),n("section",{staticClass:"py-4 beliayam-main-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"mb-3"},[t.product.stock<=0?n("div",{staticClass:"member-plan position-absolute"},[n("span",{staticClass:"badge m-3 badge-danger-out-of-stock"},[t._v("\n                  Kehabisan Persediaan\n                ")])]):t._e(),t._v(" "),t.product.hasPromo?n("div",["percent"===t.product.hasPromo.promoBy?n("span",{staticClass:"badge badge-success badge-discount"},[t._v("\n                    #"+t._s(t.product.hasPromo.tags)+"\n                  ")]):t._e()]):t.product.hasDiscount&&t.product.hasDiscount.isDiscount?n("div",["price"===t.product.hasDiscount.discountBy?n("span",{staticClass:"badge badge-danger badge-discount"},[t._v("Diskon\n                  "+t._s(t.product.hasDiscount.discount/t.product.price*100)+"%")]):n("span",{staticClass:"badge badge-danger badge-discount"},[t._v("Diskon\n                  "+t._s(t._f("formatMoney")(t.product.hasDiscount.discount)))])]):t._e(),t._v(" "),t.product.image?n("img",{staticClass:"img-fluid shadow-sm rounded w-100",attrs:{src:this.$config.baseApi+"/"+t.product.image,alt:""+t.product.name}}):n("img",{staticClass:"img-fluid shadow-sm rounded w-100",attrs:{src:this.$config.baseURL+"/default/product.jpg",alt:""+t.product.name}})]),t._v(" "),n("div",{staticClass:"pd-f d-flex align-items-center mb-3"},[n("button",{staticClass:"\n                  btn btn-warning\n                  p-3\n                  rounded\n                  btn-block\n                  d-flex\n                  align-items-center\n                  justify-content-center\n                  mr-3\n                  btn-lg\n                ",on:{click:function(e){return t.addProductToCart()}}},[n("i",{staticClass:"fad fa-plus m-0 mr-2"}),t._v(" Keranjang\n              ")]),t._v(" "),t._m(0)]),t._v(" "),t.product.hasPromo?n("div",{staticClass:"text-danger font-italic"},[t._v("\n              *Pembelian produk saat promo, me-reset produk yang sama pada\n              keranjang\n            ")]):t.product.hasDiscount.isDiscount?n("div",{staticClass:"text-danger font-italic"},[t._v("\n              *Pembelian produk saat diskon, me-reset produk yang sama pada\n              keranjang\n            ")]):t._e()]),t._v(" "),n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"p-4 bg-white rounded shadow-sm"},[n("div",{staticClass:"pt-0"},[n("h2",{staticClass:"font-weight-bold"},[t._v(t._s(t.product.name))]),t._v(" "),n("p",{staticClass:"\n                    font-weight-light\n                    text-dark\n                    m-0\n                    d-flex\n                    align-items-center\n                  "},[n("b",{staticClass:"h6 text-dark m-0"},[t._v(t._s(t._f("formatMoney")(t.getPriceLabel())))]),t._v(" "),t.getPriceBadge()>0?n("del",{staticClass:"ml-2 text-danger"},[t._v(t._s(t._f("formatMoney")(t.product.price)))]):t._e(),t._v(" "),t.getPriceBadge()>0?n("span",{staticClass:"badge badge-danger ml-2"},[t._v(t._s(t.getPriceBadge())+"% Hemat")]):t._e()])]),t._v(" "),n("div",{staticClass:"pt-2"},[n("div",{staticClass:"row"},[t._m(1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("p",{staticClass:"font-weight-bold m-0"},[t._v("Ketersediaan Produk:")]),t._v(" "),n("p",{staticClass:"text-muted m-0"},[t._v("\n                      "+t._s(t.product.stock)+" Kuantitas\n                    ")])])])]),t._v(" "),n("div",{staticClass:"details"},[n("div",{staticClass:"pt-3 bg-white"},[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"btn-group beliayam-radio btn-group-toggle",attrs:{"data-toggle":"buttons"}},[n("label",{staticClass:"btn btn-secondary"},[n("input",{attrs:{type:"radio",name:"options",id:"option3"}}),t._v("\n                        "+t._s(t.product.weight)+" Kg\n                      ")])]),t._v(" "),n("div",{staticClass:"ml-auto"},[n("div",{staticClass:"cart-items-number d-flex",attrs:{id:"myform"}},[n("input",{staticClass:"qtyminus btn btn-success btn-sm",attrs:{type:"button",value:"-",field:"quantity",disabled:0===t.cart.quantity||1===t.cart.quantity||""===t.cart.quantity||0===t.product.stock},on:{click:t.setDecrementQuantity}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.cart.quantity,expression:"cart.quantity"}],staticClass:"qty form-control",attrs:{type:"text",name:"quantity",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},domProps:{value:t.cart.quantity},on:{keyup:function(e){return t.setQuantity(e)},change:function(e){return t.checkQuantity(e)},input:function(e){e.target.composing||t.$set(t.cart,"quantity",e.target.value)}}}),t._v(" "),n("input",{staticClass:"qtyplus btn btn-success btn-sm",attrs:{type:"button",value:"+",field:"quantity",disabled:t.cart.quantity>=t.product.stock||""===t.cart.quantity},on:{click:t.setIncrementQuantity}})])])])]),t._v(" "),n("div",{staticClass:"pt-3"},[t.product.stock<t.cart.quantity?n("div",{staticClass:"text-danger text-center"},[n("p",[t._v("\n                      Maks. persediaan produk ini hanya ada\n                      "+t._s(t.product.stock)+" item.\n                    ")])]):t._e(),t._v(" "),0===parseInt(t.cart.quantity)||""===t.cart.quantity?n("div",{staticClass:"text-danger text-center"},[n("p",[t._v("Min. Pembelian 1 Item")])]):t._e(),t._v(" "),n("div",{staticClass:"\n                      input-group\n                      mb-3\n                      border\n                      rounded\n                      shadow-sm\n                      overflow-hidden\n                      bg-white\n                    "},[t._m(2),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.cart.note,expression:"cart.note"}],staticClass:"\n                        shadow-none\n                        border-0\n                        form-control form-control-lg\n                        pl-0\n                      ",attrs:{type:"text",placeholder:"Tambah Catatan disini...","aria-label":"","aria-describedby":"basic-addon1"},domProps:{value:t.cart.note},on:{input:function(e){e.target.composing||t.$set(t.cart,"note",e.target.value)}}})]),t._v(" "),n("p",{staticClass:"font-weight-bold mb-2"},[t._v("Deskripsi Produk")]),t._v(" "),n("p",{staticClass:"text-muted small mb-0"},[t._v("\n                    "+t._s(t.product.description)+"\n                  ")])])])])])]),t._v(" "),n("ProductRelatedProducts",{attrs:{products:t.relatedProducts}})],1)]),t._v(" "),n("div",{attrs:{id:"modal-cart-success"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered"},[n("div",{staticClass:"modal-content animate__animated animate__jello"},[n("div",{staticClass:"modal-header"},[t._m(3),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.closeModal()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])])])])]):n("div",{staticClass:"not-found-anything"},[t._m(4)]),t._v(" "),t._m(5)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"\n                  btn btn-success\n                  p-3\n                  rounded\n                  btn-block\n                  d-flex\n                  align-items-center\n                  justify-content-center\n                  btn-lg\n                  m-0\n                "},[n("i",{staticClass:"fad fa-shopping-cart m-0 mr-2"}),t._v(" Beli\n              ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("p",{staticClass:"font-weight-bold m-0"},[t._v("Pengiriman")]),t._v(" "),n("p",{staticClass:"text-muted m-0"},[t._v("Gratis Ongkos Kirim")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"\n                          border-0\n                          btn btn-outline-secondary\n                          text-success\n                          bg-white\n                        "},[e("i",{staticClass:"fad fa-sticky-note"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[n("i",{staticClass:"fad fa-egg-fried text-success"}),t._v(" Berhasil\n              Ditambahkan\n            ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("h4",[t._v("Tidak Ditemukan Apapun")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{id:"outOfStockModal",tabindex:"-1","aria-labelledby":"outOfStockModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-md modal-dialog-centered"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header bg-danger justify-content-center"},[n("h5",{staticClass:"modal-title",attrs:{id:"outOfStockModalLabel"}},[t._v("\n            Kehabisan Persediaan\n          ")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("h6",[t._v("Sayangnya persediaan produk sedang habis")])]),t._v(" "),n("div",{staticClass:"modal-footer justify-content-center"},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            mengerti\n          ")])])])])])}],!1,null,"2906c8bb",null);e.default=component.exports;installComponents(component,{ProductRelatedProducts:n(2365).default})}}]);