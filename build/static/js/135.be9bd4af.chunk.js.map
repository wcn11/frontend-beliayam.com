{"version":3,"sources":["../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/Card.js","../node_modules/reactstrap/es/Row.js","../node_modules/reactstrap/es/Col.js","../node_modules/reactstrap/es/CardTitle.js","../node_modules/reactstrap/es/CardHeader.js","../../src/components/RefTrackerProvider.tsx","../../src/core/eventManager.ts","../../src/hooks/useRefTracker.ts","../../src/core/contextMenu.ts","../../src/hooks/useContextMenu.ts","../../src/components/menuController.ts","../../src/constants.ts","../../src/components/utils.ts","../../src/components/Menu.tsx","../../src/hooks/usePrevious.ts","../../src/components/Item.tsx","../../src/components/Submenu.tsx"],"names":["propTypes","tag","tagPropType","className","PropTypes","string","cssModule","object","innerRef","oneOfType","func","CardBody","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","ref","defaultProps","inverse","bool","color","body","outline","Card","rowColsPropType","number","noGutters","form","xs","sm","md","lg","xl","widths","Row","colClasses","forEach","colWidth","i","colSize","isXs","push","stringOrNumberProp","columnProps","shape","size","order","offset","array","getColumnSizeClass","Col","columnProp","isObject","_classNames","colSizeInterfix","colClass","_colClass","length","CardTitle","CardHeader","Context","createContext","useRefTrackerContext","useContext","RefTrackerProvider","Provider","value","refTracker","children","createEventManager","eventList","Map","on","event","handler","has","get","_eventList$get","add","set","Set","this","off","emit","args","process","NODE","currentEv","console","error","eventManager","useRefTracker","useRef","current","contextMenu","id","position","preventDefault","nativeEvent","useContextMenu","show","params","hideAll","createMenuController","focusedIndex","parentNode","isAtRoot","currentItems","menuList","forceCloseSubmenu","focusSelectedItem","node","focus","isFocused","moveDown","closeSubmenu","isRoot","items","parentFocusedIndex","menuParentNode","classList","remove","clear","init","rootMenu","moveUp","openSubmenu","isSubmenu","submenuItems","Array","from","submenuRefTracker","values","currentNode","animation","fade","flip","scale","slide","NOOP","isFn","v","isStr","cloneItems","Children","map","toArray","filter","Boolean","item","cloneElement","getPredicateValue","predicate","payload","reducer","state","Menu","theme","style","_ref$animation","onHidden","onShown","rest","useReducer","x","y","visible","triggerEvent","propsFromTrigger","willLeave","setState","nodeRef","didMount","wasVisible","useEffect","usePrevious","menuController","useState","stopPropagation","e","pos","type","isTouchEvent","changedTouches","clientX","clientY","getMousePosition","setTimeout","hide","button","ctrlKey","exit","hasExitAnimation","window","windowWidth","innerWidth","windowHeight","innerHeight","menuWidth","offsetWidth","menuHeight","offsetHeight","handleKeyboard","key","addEventListener","removeEventListener","cssClasses","cx","enter","computeAnimationClasses","menuStyle","left","top","opacity","onAnimationEnd","role","Item","data","onClick","disabled","_ref$disabled","hidden","_ref$hidden","handlerParams","isDisabled","onKeyDown","tabIndex","Submenu","arrow","_ref$arrow","label","menuRefTracker","bottom","setPosition","isHidden","rect","getBoundingClientRect","right","undefined","submenuStyle"],"mappings":"qKAAA,6EAMIA,EAAY,CACdC,IAAKC,cACLC,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,OACrBC,SAAUJ,IAAUK,UAAU,CAACL,IAAUG,OAAQH,IAAUC,OAAQD,IAAUM,QAM3EC,EAAW,SAAkBC,GAC/B,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBE,EAAWI,EAAMJ,SACjBK,EAAMD,EAAMX,IACZa,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,WAAY,QAEzFI,EAAUC,0BAAgBC,IAAWf,EAAW,aAAcG,GAClE,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,EACXM,IAAKd,MAITG,EAASX,UAAYA,EACrBW,EAASY,aAnBU,CACjBtB,IAAK,OAmBQU,O,iCChCf,6EAMIX,EAAY,CACdC,IAAKC,cACLsB,QAASpB,IAAUqB,KACnBC,MAAOtB,IAAUC,OACjBsB,KAAMvB,IAAUqB,KAChBG,QAASxB,IAAUqB,KACnBtB,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,OACrBC,SAAUJ,IAAUK,UAAU,CAACL,IAAUG,OAAQH,IAAUC,OAAQD,IAAUM,QAM3EmB,EAAO,SAAcjB,GACvB,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBoB,EAAQd,EAAMc,MACdC,EAAOf,EAAMe,KACbH,EAAUZ,EAAMY,QAChBI,EAAUhB,EAAMgB,QAChBf,EAAMD,EAAMX,IACZO,EAAWI,EAAMJ,SACjBM,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,QAAS,OAAQ,UAAW,UAAW,MAAO,aAE3HI,EAAUC,0BAAgBC,IAAWf,EAAW,SAAQqB,GAAU,eAAsBG,GAAO,cAAqBD,IAASE,EAAU,SAAW,MAAQ,IAAMF,GAAgBpB,GACpL,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,EACXM,IAAKd,MAITqB,EAAK7B,UAAYA,EACjB6B,EAAKN,aAvBc,CACjBtB,IAAK,OAuBQ4B,O,iCCxCf,6EAOIC,EAAkB1B,IAAUK,UAAU,CAACL,IAAU2B,OAAQ3B,IAAUC,SACnEL,EAAY,CACdC,IAAKC,cACL8B,UAAW5B,IAAUqB,KACrBtB,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,OACrB0B,KAAM7B,IAAUqB,KAChBS,GAAIJ,EACJK,GAAIL,EACJM,GAAIN,EACJO,GAAIP,EACJQ,GAAIR,GAEFP,EAAe,CACjBtB,IAAK,MACLsC,OAhBiB,CAAC,KAAM,KAAM,KAAM,KAAM,OAmBxCC,EAAM,SAAa5B,GACrB,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClB0B,EAAYpB,EAAMoB,UAClBnB,EAAMD,EAAMX,IACZgC,EAAOrB,EAAMqB,KACbM,EAAS3B,EAAM2B,OACfzB,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,YAAa,MAAO,OAAQ,WAEzG6B,EAAa,GACjBF,EAAOG,SAAQ,SAAUC,EAAUC,GACjC,IAAIC,EAAUjC,EAAM+B,GAGpB,UAFO7B,EAAW6B,GAEbE,EAAL,CAIA,IAAIC,GAAQF,EACZH,EAAWM,KAAKD,EAAO,YAAcD,EAAU,YAAcF,EAAW,IAAME,OAEhF,IAAI7B,EAAUC,0BAAgBC,IAAWf,EAAW6B,EAAY,aAAe,KAAMC,EAAO,WAAa,MAAOQ,GAAanC,GAC7H,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,MAIfwB,EAAIxC,UAAYA,EAChBwC,EAAIjB,aAAeA,EACJiB,O,iCCtDf,6EAOIQ,EAAqB5C,IAAUK,UAAU,CAACL,IAAU2B,OAAQ3B,IAAUC,SACtE4C,EAAc7C,IAAUK,UAAU,CAACL,IAAUqB,KAAMrB,IAAU2B,OAAQ3B,IAAUC,OAAQD,IAAU8C,MAAM,CACzGC,KAAM/C,IAAUK,UAAU,CAACL,IAAUqB,KAAMrB,IAAU2B,OAAQ3B,IAAUC,SACvE+C,MAAOJ,EACPK,OAAQL,MAENhD,EAAY,CACdC,IAAKC,cACLgC,GAAIe,EACJd,GAAIc,EACJb,GAAIa,EACJZ,GAAIY,EACJX,GAAIW,EACJ9C,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,OACrBgC,OAAQnC,IAAUkD,OAEhB/B,EAAe,CACjBtB,IAAK,MACLsC,OApBc,CAAC,KAAM,KAAM,KAAM,KAAM,OAuBrCgB,EAAqB,SAA4BT,EAAMH,EAAUE,GACnE,OAAgB,IAAZA,GAAgC,KAAZA,EACfC,EAAO,MAAQ,OAASH,EACV,SAAZE,EACFC,EAAO,WAAa,OAASH,EAAW,QAG1CG,EAAO,OAASD,EAAU,OAASF,EAAW,IAAME,GAGzDW,EAAM,SAAa5C,GACrB,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBiC,EAAS3B,EAAM2B,OACf1B,EAAMD,EAAMX,IACZa,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,SAAU,QAEvF6B,EAAa,GACjBF,EAAOG,SAAQ,SAAUC,EAAUC,GACjC,IAAIa,EAAa7C,EAAM+B,GAGvB,UAFO7B,EAAW6B,GAEbc,GAA6B,KAAfA,EAAnB,CAIA,IAAIX,GAAQF,EAEZ,GAAIc,mBAASD,GAAa,CACxB,IAAIE,EAEAC,EAAkBd,EAAO,IAAM,IAAMH,EAAW,IAChDkB,EAAWN,EAAmBT,EAAMH,EAAUc,EAAWN,MAC7DV,EAAWM,KAAK9B,0BAAgBC,MAAYyC,EAAc,IAAgBE,GAAYJ,EAAWN,MAA4B,KAApBM,EAAWN,KAAaQ,EAAY,QAAUC,EAAkBH,EAAWL,OAASK,EAAWL,OAA8B,IAArBK,EAAWL,MAAaO,EAAY,SAAWC,EAAkBH,EAAWJ,QAAUI,EAAWJ,QAAgC,IAAtBI,EAAWJ,OAAcM,IAAerD,QAC/V,CACL,IAAIwD,EAAYP,EAAmBT,EAAMH,EAAUc,GAEnDhB,EAAWM,KAAKe,QAIfrB,EAAWsB,QACdtB,EAAWM,KAAK,OAGlB,IAAI/B,EAAUC,0BAAgBC,IAAWf,EAAWsC,GAAanC,GACjE,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,MAIfwC,EAAIxD,UAAYA,EAChBwD,EAAIjC,aAAeA,EACJiC,O,iCClFf,6EAMIxD,EAAY,CACdC,IAAKC,cACLC,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,QAMnByD,EAAY,SAAmBpD,GACjC,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBO,EAAMD,EAAMX,IACZa,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,QAE7EI,EAAUC,0BAAgBC,IAAWf,EAAW,cAAeG,GACnE,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,MAIfgD,EAAUhE,UAAYA,EACtBgE,EAAUzC,aAjBS,CACjBtB,IAAK,OAiBQ+D,O,iCC7Bf,6EAMIhE,EAAY,CACdC,IAAKC,cACLC,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,QAMnB0D,EAAa,SAAoBrD,GACnC,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBO,EAAMD,EAAMX,IACZa,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,QAE7EI,EAAUC,0BAAgBC,IAAWf,EAAW,eAAgBG,GACpE,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,MAIfiD,EAAWjE,UAAYA,EACvBiE,EAAW1C,aAjBQ,CACjBtB,IAAK,OAiBQgE,O,6jBC1Bf,IAAMC,EAAUC,wBAAc,I,SAKdC,IACd,OAAOC,qBAAWH,GAOb,IAAMI,EAAwD,SAAA1D,GACnE,OACEO,kBAAC+C,EAAQK,SAATpD,CAAkBqD,MAAO5D,EAAM6D,YAC5B7D,EAAM8D,WCRb,SAASC,IACP,IAAMC,EAAY,IAAIC,IAEtB,MAAO,CACLC,GADK,SACOC,EAAUC,G,MAKpB,OAHAJ,EAAUK,IAAIF,GAAd,OAAAH,EACIA,EAAUM,IAAIH,KAAdI,EAAsBC,IAAIJ,GAC1BJ,EAAUS,IAAIN,EAAO,IAAIO,IAAI,CAACN,KAC3BO,MAETC,IARK,SAQQT,EAAUC,GAErB,OADAA,EAAUJ,EAAUM,IAAIH,GAAdH,OAA6BI,GAAWJ,EAAS,OAAQG,GAC5DQ,MAETE,KAZK,SAYSV,EAAUW,GACtB,GAAyB,eAArBC,yJAAYC,KAAuB,CACrC,IAAMC,EAAad,EAEdH,EAAUK,IAAIF,IAAwB,IAAdc,GAC3BC,QAAQC,MAARD,4HAE2Bf,GAQ/B,OAJAH,EAAUK,IAAIF,IACZH,EAAUM,IAAIH,GAAQrC,SAAQ,SAACsC,GAC7BA,EAAQU,MAELH,OAKN,IAAMS,EAAerB,ICjC5B,SAAgBsB,IACd,OAAOC,iBAA0C,IAAIrB,KAAOsB,Q,ICOxDC,EAA2B,Y,IACxBC,OAAItB,UAAOnE,UAAO0F,aACnBvB,EAAMwB,gBAAgBxB,EAAMwB,iBAEhCP,EAAaP,KAAbO,GAAkCP,KAAKY,EAAI,CACzCtB,MAAQA,EAAyByB,aAAezB,EAChDnE,QACA0F,cAPAF,EAA2B,WAW7BJ,EAAaP,KAAbO,I,SCzBYS,EAAe7F,GAC7B,MAAO,CACL8F,KADK,SACA3B,EAAqB4B,GAOxBP,EAAiB,CACfC,IAAW,MAANM,WAAQN,MAAR,MAAczF,OAAd,EAAcA,EAAOyF,IAC1BzF,OAAa,MAAN+F,WAAQ/F,SAAR,MAAiBA,OAAjB,EAAiBA,EAAOA,OAC/BmE,MAAOA,EACPuB,SAAQ,MAAEK,OAAF,EAAEA,EAAQL,YAGtBM,QAfK,WAgBHR,MCXN,SAAgBS,IACd,IACIC,EACAC,EACAC,EACAC,EAJEC,EAAW,IAAIrC,IAKjBsC,GAAoB,EAQxB,SAASC,IACPH,EAAaH,GAAcO,KAAKC,QAWlC,SAASC,IACP,OAAsB,IAAlBT,IAEFU,KACO,GAMX,SAASA,IACHV,EAAe,EAAIG,EAAalD,OAClC+C,IACSA,EAAe,IAAMG,EAAalD,SAC3C+C,EAAe,GAGbK,GAAmBM,IAEvBL,IA6CF,SAASK,IACP,GAAIF,MAAgBP,EAAU,OAMxBE,EAAShC,IAAI6B,GAJfW,EAF0B,EAE1BA,OACAC,EAH0B,EAG1BA,MACcC,EAJY,EAI1Bd,aACYe,EALc,EAK1Bd,WAGFA,EAAWe,UAAUC,OAArBhB,qCAEAE,EAAeU,EACfZ,EAAac,EAETH,IACFV,GAAW,EACXE,EAASc,SAENb,IACHL,EAAec,EACfR,MAKN,MAAO,CACLa,KA5GF,SAAcC,GACZjB,EAAeiB,EACfpB,GAAgB,EAChBE,GAAW,GA0GXQ,WACAW,OAtEF,YACwB,IAAlBrB,GAAwC,IAAjBA,EACzBA,EAAeG,EAAalD,OAAS,EAC5B+C,EAAe,EAAIG,EAAalD,QACzC+C,IAGEK,GAAmBM,IAEvBL,KA8DAgB,YA3DF,WACE,GAAIb,KA1CGT,GAAgB,GAAKG,EAAaH,GAAcuB,UA0ChB,CACrC,IAAMC,EAvCDC,MAAMC,KAAKvB,EAAaH,GAAc2B,kBAAmBC,UAwCxDC,EAAc1B,EAAaH,GAAcO,KAsB/C,OApBAH,EAAS7B,IAAIsD,EAAa,CACxBjB,OAAQV,EACRF,eACAC,WAAYA,GAAc4B,EAC1BhB,MAAOV,IAGT0B,EAAYb,UAAU1C,IAAtBuD,qCACA5B,EAAa4B,EAETL,EAAavE,OAAS,GACxB+C,EAAe,EACfG,EAAeqB,GAEfnB,GAAoB,EAGtBH,GAAW,EAEXI,KACO,EAET,OAAO,GAiCPK,gB,IC3GSmB,EAAY,CACvBC,KAAM,OACNC,KAAM,OACNC,MAAO,QACPC,MAAO,SAGIC,EAAO,a,SCxBJC,EAAKC,GACnB,MAAoB,oBAANA,EAGhB,SAAgBC,EAAMD,GACpB,MAAoB,kBAANA,EAOhB,SAAgBE,EACd3E,EACA9D,GAEA,OAAO0I,WAASC,IAEdD,WAASE,QAAQ9E,GAAU+E,OAAOC,UAClC,SAAAC,GAAI,OAAIC,uBAAaD,EAA2B/I,MAyBpD,SAAgBiJ,EACdC,EACAC,GAEA,OAAOb,EAAKY,GAAaA,EAAUC,GAAWD,EC6BhD,SAASE,EACPC,EACAF,GAEA,OAAOb,EAAKa,GAALb,KACEe,EAAUF,EAAQE,IADpB,KAEEA,EAAUF,GAGrB,IAAaG,EAA4B,SAAC,G,MACxC7D,OACA8D,UACAC,UACAjK,cACAuE,a,IACAkE,qBAAYA,EAAA,QAAAyB,E,IACZC,oBAAWA,EAAArB,I,IACXsB,mBAAUA,EAAAtB,IACPuB,sF,EAEuBC,qBAAWT,EAAS,CAC5CU,EAAG,EACHC,EAAG,EACHC,SAAS,EACTC,aAAc,GACdC,iBAAkB,KAClBC,WAAW,IANNd,OAAOe,OAQRC,EAAU/E,iBAAuB,MACjCgF,EAAWhF,kBAAO,GAClBiF,E,SClHuB3G,GAC7B,IAAMlD,EAAM4E,mBAMZ,OAJAkF,qBAAU,WACR9J,EAAI6E,QAAU3B,IACb,CAACA,IAEGlD,EAAI6E,QD2GQkF,CAAYpB,EAAMW,SAC/BnG,EAAawB,IACZqF,EAAkBC,oBAAS,kBAAM1E,OAAjCyE,GAkHP,SAAS5E,EAAT,G,IAAgB3B,UAAOnE,UAAO0F,aAC5BvB,EAAMyG,kB,MACWlF,GD1MrB,SAAiCmF,GAC/B,IAAMC,EAAM,CACVhB,EAAG,EACHC,EAAG,GAeL,OAjCF,SAA6Bc,GAC3B,MAAkB,aAAXA,EAAEE,KAoBLC,CAAaH,IAAMA,EAAEI,gBAAkBJ,EAAEI,eAAe9H,OAAS,GACnE2H,EAAIhB,EAAIe,EAAEI,eAAe,GAAGC,QAC5BJ,EAAIf,EAAIc,EAAEI,eAAe,GAAGE,UAE5BL,EAAIhB,EAAKe,EAAiBK,QAC1BJ,EAAIf,EAAKc,EAAiBM,WAGvBL,EAAIhB,GAAKgB,EAAIhB,EAAI,KAAGgB,EAAIhB,EAAI,KAE5BgB,EAAIf,GAAKe,EAAIf,EAAI,KAAGe,EAAIf,EAAI,GAE1Be,ECwLwBM,CAAiBjH,GAAtC2F,MAAGC,MAIXsB,YAAW,WACTjB,EAAS,CACPJ,SAAS,EACTG,WAAW,EACXL,IACAC,IACAE,aAAc9F,EACd+F,iBAAkBlK,MAEnB,GAGL,SAASsL,EAAKnH,GAGZ,IAAM0G,EAAI1G,GAGK,qBAAN0G,GACO,IAAbA,EAAEU,SAA8B,IAAdV,EAAEW,SACV,gBAAXX,EAAEE,SDtMR,SAAiC/C,GAC/B,SACEA,KACCQ,EAAMR,IAAe,SAAUA,GAAaA,EAAUyD,OCwMvDC,CAAiB1D,GAEboC,GAAS,SAAAf,GAAK,MAAK,CAAEW,SAASX,EAAMW,SAAkBX,EAAMW,YAD5DI,GAAS,SAAAf,GAAK,MAAK,CAAEc,UAAWd,EAAMW,aA/I5CQ,qBAAU,WAIR,OAHAF,EAAS/E,SAAU,EACnBH,EAAalB,GAAGuB,EAAIK,GAAM5B,GAA1BkB,EAA6CkG,GAEtC,WACLlG,EAAaR,IAAIa,EAAIK,GAAMlB,IAA3BQ,EAA+CkG,MAIhD,CAAC7F,IAGJ+E,qBAAU,WACJF,EAAS/E,SAAW8D,EAAMW,UAAYO,IACxClB,EAAMW,QAAUL,IAAYD,OAI7B,CAACL,EAAMW,QAASN,EAAUC,IAG7Ba,qBAAU,WACHnB,EAAMW,QAGTU,EAAerD,KAAKM,MAAMC,KAAK/D,EAAWiE,WAF1CjE,EAAWuD,UAIZ,CAACiC,EAAMW,QAASU,EAAgB7G,IAGnC2G,qBAAU,WACR,GAAInB,EAAMW,QAAS,OAC8C2B,OAA3CC,EADH,EACTC,WAAsCC,EAD7B,EACgBC,YADhB,EAKb1B,EAAQ9E,QAFGyG,EAHE,EAGfC,YACcC,EAJC,EAIfC,aAEIrC,EAAST,EAATS,EAAGC,EAAMV,EAANU,EAELD,EAAIkC,EAAYJ,IAClB9B,GAAKA,EAAIkC,EAAYJ,GAGnB7B,EAAImC,EAAaJ,IACnB/B,GAAKA,EAAImC,EAAaJ,GAGxB1B,EAAS,CACPN,IACAC,SAMH,CAACV,EAAMW,UAGVQ,qBAAU,WACR,SAAS4B,EAAevB,GAEtB,OADAA,EAAElF,iBACMkF,EAAEwB,KACR,IAAK,QACE3B,EAAelD,eAAe8D,IACnC,MACF,IAAK,SACHA,IACA,MACF,IAAK,UACHZ,EAAenD,SACf,MACF,IAAK,YACHmD,EAAe9D,WACf,MACF,IAAK,aACH8D,EAAelD,cACf,MACF,IAAK,YACHkD,EAAe7D,gBAkBrB,OAbIwC,EAAMW,UACR2B,OAAOW,iBAAiB,SAAUhB,GAClCK,OAAOW,iBAAiB,cAAehB,GACvCK,OAAOW,iBAAiB,QAAShB,GACjCK,OAAOW,iBAAiB,SAAUhB,GAClCK,OAAOW,iBAAiB,UAAWF,GAIjCT,OAAOW,iBAAiB,OAAQhB,IAI7B,WACLK,OAAOY,oBAAoB,SAAUjB,GACrCK,OAAOY,oBAAoB,cAAejB,GAC1CK,OAAOY,oBAAoB,QAASjB,GACpCK,OAAOY,oBAAoB,SAAUjB,GACrCK,OAAOY,oBAAoB,UAAWH,GAGpCT,OAAOY,oBAAoB,OAAQjB,MAKtC,CAACjC,EAAMW,QAASU,I,IAkEXV,EAA6DX,EAA7DW,QAASC,EAAoDZ,EAApDY,aAAcC,EAAsCb,EAAtCa,iBAAkBJ,EAAoBT,EAApBS,EAAGC,EAAiBV,EAAjBU,EAAGI,EAAcd,EAAdc,UACjDqC,EAAaC,YAAG,kBAEpBlN,IAFmB,MAGb,2BAAcgK,GAAUA,EAHX,GAvBrB,WACE,OAAKvB,EAEDQ,EAAMR,GACDyE,cAAE,MACH,gCAA2BzE,GAC7BA,GAAagC,IAAYG,EAFpB,EAGH,gCAA2BnC,EAA3B,4CACFA,GAAagC,GAAWG,EAJnB,IAMA,UAAWnC,GAAa,SAAUA,EACpCyE,cAAE,MACH,gCAA2BzE,EAAU0E,OACvC1E,EAAU0E,OAAS1C,IAAYG,EAF1B,EAGH,gCAA2BnC,EAAUyD,KAArC,4CACFzD,EAAUyD,MAAQzB,GAAWG,EAJxB,IAQJ,KAlBgB,KAED,MAOkC,EAiBxDwC,IAGIC,EAAY,EAAH,GACVpD,EADU,CAEbqD,KAAM/C,EACNgD,IAAK/C,EACLgD,QAAS,IAGX,OACExM,kBAACmD,EAADnD,CAAoBsD,WAAYA,GAC7BmG,GACCzJ,yCACMqJ,GACJrK,UAAWiN,EACXQ,eAjDR,WACM3D,EAAMc,WAAad,EAAMW,SAC3BI,EAAS,CAAEJ,SAAS,EAAOG,WAAW,KAgDlCX,MAAOoD,EACPlM,IAAK2J,EACL4C,KAAK,SAEJxE,EAAW3E,EAAU,CACpBoG,mBACAD,oBEjPCiD,EAA4B,SAAC,G,MACxCpJ,aACAvE,cACAiK,UACAS,iBACAkD,SACAjD,qB,IACAkD,mBAAUA,EAAA/E,I,IACVgF,oBAAWA,GAAAC,E,IACXC,kBAASA,GAAAC,EACN5D,+GAEG/F,EAAaL,IACbiK,EAAgB,CACpBN,OACAlD,aAAcA,EACdjK,MAAOkK,GAEHwD,EAAazE,EAAkBoE,EAAUI,GAuB/C,GAtBiBxE,EAAkBsE,EAAQE,GAsB7B,OAAO,KAErB,IAAMjB,EAAaC,YAAG,wBAAYlN,IAAb,MACf,mCAAuBmO,EADR,IAIrB,OACEnN,yCACMqJ,GACJrK,UAAWiN,EACXhD,MAAOA,EACP4D,QA/BJ,SAAqBvC,GAClB4C,EAA6BtJ,MAAQ0G,EACtC6C,EAAa7C,EAAED,kBAAoBwC,EAAQK,IA8BzCE,UAnBJ,SAAuB9C,GACP,UAAVA,EAAEwB,MACHoB,EAA6BtJ,MAAQ0G,EACtCuC,EAAQK,KAiBR/M,IA5BJ,SAAkB+F,GACZA,IAASiH,GACX7J,EAAWY,IAAIgC,EAAM,CACnBA,OACAgB,WAAW,KAyBbmG,UAAW,EACXX,KAAK,W,gBACUS,IAEfnN,yBAAKhB,UAAS,kCAAsBuE,K,ICjG7B+J,EAAkC,SAAC,G,UAC9CC,iBAAQA,EAAA,SAAAC,EACRjK,a,IACAuJ,oBAAWA,GAAAC,E,IACXC,kBAASA,GAAAC,EACTQ,UACAzO,cACA0K,iBACAC,qBACAV,UACGI,8GAEGqE,EAAiBzK,IACjBK,EAAawB,IACbgF,EAAU/E,iBAAuB,M,EACPqF,mBAAuB,CACrDkC,KAAM,OACNC,IAAK,EACLoB,OAAQ,YAHHxI,OAAUyI,OAKXV,EAAgB,CACpBxD,aAAcA,EACdjK,MAAOkK,GAEHwD,EAAazE,EAAkBoE,EAAUI,GACzCW,EAAWnF,EAAkBsE,EAAQE,GAwC3C,GAtCAjD,qBAAU,WACR,GAAIH,EAAQ9E,QAAS,OACiBoG,OAA5BE,EADW,EACXA,WAAYE,EADD,EACCA,YACdsC,EAAOhE,EAAQ9E,QAAQ+I,wBACvB9E,EAAsB,GAExB6E,EAAKE,MAAQ1C,GACfrC,EAAMqD,KAAO,OACbrD,EAAM+E,WAAQC,IAEdhF,EAAM+E,MAAQ,OACd/E,EAAMqD,UAAO2B,GAGXH,EAAKH,OAASnC,GAChBvC,EAAM0E,OAAS,EACf1E,EAAMsD,IAAM,WAEZtD,EAAM0E,OAAS,UAGjBC,EAAY3E,MAEb,IAeC4E,EAAU,OAAO,KAErB,IAAM5B,EAAaC,YAAG,wBAAYlN,IAAb,MACf,mCAAuBmO,EADR,IAIfe,EAAe,EAAH,GACbjF,EACA9D,GAGL,OACEnF,kBAACmD,EAADnD,CAAoBsD,WAAYA,GAC9BtD,yCACMqJ,GACJrK,UAAWiN,EACX9L,IAzBN,SAAkB+F,GACZA,IAASiH,GACXO,EAAexJ,IAAIgC,EAAM,CACvBA,OACAgB,WAAW,EACXI,kBAAmBhE,KAqBnB+J,UAAW,EACXX,KAAK,W,mCAEUS,IAEfnN,yBAAKhB,UAAS,iCAAqB6N,QAnCzC,SAAqBvC,GACnBA,EAAED,oBAmCKoD,EACDzN,0BAAMhB,UAAS,kCAAuBuO,IAExCvN,yBAAKhB,UAAS,2CAAiBmB,IAAK2J,EAASb,MAAOiF,GACjDhG,EAAW3E,EAAU,CACpBoG,mBAEAD,aAAcA","file":"static/js/135.be9bd4af.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"innerRef\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar rowColWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar rowColsPropType = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar propTypes = {\n  tag: tagPropType,\n  noGutters: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  form: PropTypes.bool,\n  xs: rowColsPropType,\n  sm: rowColsPropType,\n  md: rowColsPropType,\n  lg: rowColsPropType,\n  xl: rowColsPropType\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: rowColWidths\n};\n\nvar Row = function Row(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      noGutters = props.noGutters,\n      Tag = props.tag,\n      form = props.form,\n      widths = props.widths,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"noGutters\", \"tag\", \"form\", \"widths\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var colSize = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!colSize) {\n      return;\n    }\n\n    var isXs = !i;\n    colClasses.push(isXs ? \"row-cols-\" + colSize : \"row-cols-\" + colWidth + \"-\" + colSize);\n  });\n  var classes = mapToCssModules(classNames(className, noGutters ? 'no-gutters' : null, form ? 'form-row' : 'row', colClasses), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nRow.propTypes = propTypes;\nRow.defaultProps = defaultProps;\nexport default Row;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  tag: tagPropType,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"widths\", \"tag\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes;\nCol.defaultProps = defaultProps;\nexport default Col;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardTitle = function CardTitle(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-title'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardTitle.propTypes = propTypes;\nCardTitle.defaultProps = defaultProps;\nexport default CardTitle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import React, { useContext, createContext } from 'react';\nimport { RefTracker } from '../hooks';\n\nconst Context = createContext({} as RefTracker);\n\n/**\n * Access parent ref tracker.\n */\nexport function useRefTrackerContext() {\n  return useContext(Context);\n}\n\nexport interface RefTrackerProviderProps {\n  refTracker: RefTracker;\n}\n\nexport const RefTrackerProvider: React.FC<RefTrackerProviderProps> = props => {\n  return (\n    <Context.Provider value={props.refTracker}>\n      {props.children}\n    </Context.Provider>\n  );\n};\n","import { EVENT } from '../constants';\n\nexport type EventType = string | number | symbol;\nexport type Handler<T = any> = (args: T) => void;\n\nexport interface EventManager<E = EventType> {\n  on<T = any>(event: E, handler: Handler<T>): EventManager<E>;\n  off<T = any>(event: E, handler?: Handler<T>): EventManager<E>;\n  emit<T = any>(event: E, args?: T): EventManager<E>;\n}\n\nfunction createEventManager<E = EventType>(): EventManager<E> {\n  const eventList = new Map<E, Set<Handler>>();\n\n  return {\n    on<T = any>(event: E, handler: Handler<T>) {\n      //eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      eventList.has(event)\n        ? eventList.get(event)?.add(handler)\n        : eventList.set(event, new Set([handler]));\n      return this;\n    },\n    off<T = any>(event: E, handler?: Handler<T>) {\n      handler ? eventList.get(event)!.delete(handler) : eventList.delete(event);\n      return this;\n    },\n    emit<T = any>(event: E, args: T) {\n      if (process.env.NODE !== 'production') {\n        const currentEv = (event as unknown) as number;\n\n        if (!eventList.has(event) && currentEv !== EVENT.HIDE_ALL) {\n          console.error(\n            `It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.`,\n            `You used the menu id: ${event}`\n          );\n        }\n      }\n      eventList.has(event) &&\n        eventList.get(event)!.forEach((handler: Handler<T>) => {\n          handler(args);\n        });\n      return this;\n    },\n  };\n}\n\nexport const eventManager = createEventManager();\n","import { useRef } from 'react';\n\nexport interface RefTrackerValue {\n  node: HTMLElement;\n  isSubmenu: boolean;\n  submenuRefTracker?: RefTracker;\n}\n\nexport type RefTracker = ReturnType<typeof useRefTracker>;\n\n/**\n * Used to store children refs\n */\nexport function useRefTracker() {\n  return useRef<Map<HTMLElement, RefTrackerValue>>(new Map()).current;\n}\n","import { eventManager } from './eventManager';\nimport { MenuId, TriggerEvent } from '../types';\nimport { SyntheticEvent } from 'react';\n\nimport { EVENT } from '../constants';\n\nexport interface ShowContextMenuParams {\n  id: MenuId;\n  event: TriggerEvent;\n  props?: any;\n  position?: {\n    x: number;\n    y: number;\n  } | null;\n}\n\nexport interface ContextMenu {\n  show: (params: ShowContextMenuParams) => void;\n  hideAll: () => void;\n}\n\nconst contextMenu: ContextMenu = {\n  show({ id, event, props, position }) {\n    if (event.preventDefault) event.preventDefault();\n\n    eventManager.emit(EVENT.HIDE_ALL).emit(id, {\n      event: (event as SyntheticEvent).nativeEvent || event,\n      props,\n      position,\n    });\n  },\n  hideAll() {\n    eventManager.emit(EVENT.HIDE_ALL);\n  },\n};\n\nexport { contextMenu };\n","import { contextMenu } from '../core';\nimport { ContextMenuParams, TriggerEvent } from '../types';\n\nexport type UseContextMenuProps = Partial<\n  Pick<ContextMenuParams, 'id' | 'props'>\n>;\n\nexport function useContextMenu(props?: UseContextMenuProps) {\n  return {\n    show(event: TriggerEvent, params?: Omit<ContextMenuParams, 'event'>) {\n      if (process.env.NODE_ENV === 'development') {\n        if (!props?.id && !params?.id)\n          console.error(\n            \"You need to provide an id when initializing the hook `useContextMenu({ id: 'your id' })` or when you display the menu `show(e, { id: 'your id' })`. The later is used to override the one defined during initialization.\"\n          );\n      }\n      contextMenu.show({\n        id: (params?.id || props?.id) as string,\n        props: params?.props || props?.props,\n        event: event,\n        position: params?.position,\n      });\n    },\n    hideAll() {\n      contextMenu.hideAll();\n    },\n  };\n}\n","import { RefTrackerValue } from '../hooks';\nimport { STYLE } from '../constants';\n\ninterface Menu<T = RefTrackerValue> {\n  items: T[];\n  isRoot: boolean;\n  focusedIndex: number;\n  parentNode: HTMLElement;\n}\n\n/**\n * Used to control keyboard navigation\n */\nexport function createMenuController() {\n  const menuList = new Map<HTMLElement, Menu>();\n  let focusedIndex: number;\n  let parentNode: HTMLElement;\n  let isAtRoot: boolean;\n  let currentItems: RefTrackerValue[];\n  let forceCloseSubmenu = false;\n\n  function init(rootMenu: RefTrackerValue[]) {\n    currentItems = rootMenu;\n    focusedIndex = -1;\n    isAtRoot = true;\n  }\n\n  function focusSelectedItem() {\n    currentItems[focusedIndex].node.focus();\n  }\n\n  function isSubmenuFocused() {\n    return focusedIndex >= 0 && currentItems[focusedIndex].isSubmenu;\n  }\n\n  function getSubmenuItems() {\n    return Array.from(currentItems[focusedIndex].submenuRefTracker!.values());\n  }\n\n  function isFocused() {\n    if (focusedIndex === -1) {\n      // focus first item\n      moveDown();\n      return false;\n    }\n\n    return true;\n  }\n\n  function moveDown() {\n    if (focusedIndex + 1 < currentItems.length) {\n      focusedIndex++;\n    } else if (focusedIndex + 1 === currentItems.length) {\n      focusedIndex = 0;\n    }\n\n    if (forceCloseSubmenu) closeSubmenu();\n\n    focusSelectedItem();\n  }\n\n  function moveUp() {\n    if (focusedIndex === -1 || focusedIndex === 0) {\n      focusedIndex = currentItems.length - 1;\n    } else if (focusedIndex - 1 < currentItems.length) {\n      focusedIndex--;\n    }\n\n    if (forceCloseSubmenu) closeSubmenu();\n\n    focusSelectedItem();\n  }\n\n  function openSubmenu() {\n    if (isFocused() && isSubmenuFocused()) {\n      const submenuItems = getSubmenuItems();\n      const currentNode = currentItems[focusedIndex].node;\n\n      menuList.set(currentNode, {\n        isRoot: isAtRoot,\n        focusedIndex,\n        parentNode: parentNode || currentNode,\n        items: currentItems,\n      });\n\n      currentNode.classList.add(STYLE.submenuOpen);\n      parentNode = currentNode;\n\n      if (submenuItems.length > 0) {\n        focusedIndex = 0;\n        currentItems = submenuItems;\n      } else {\n        forceCloseSubmenu = true;\n      }\n\n      isAtRoot = false;\n\n      focusSelectedItem();\n      return true;\n    }\n    return false;\n  }\n\n  function closeSubmenu() {\n    if (isFocused() && !isAtRoot) {\n      const {\n        isRoot,\n        items,\n        focusedIndex: parentFocusedIndex,\n        parentNode: menuParentNode,\n      } = menuList.get(parentNode)!;\n\n      parentNode.classList.remove(STYLE.submenuOpen);\n\n      currentItems = items;\n      parentNode = menuParentNode;\n\n      if (isRoot) {\n        isAtRoot = true;\n        menuList.clear();\n      }\n      if (!forceCloseSubmenu) {\n        focusedIndex = parentFocusedIndex;\n        focusSelectedItem();\n      }\n    }\n  }\n\n  return {\n    init,\n    moveDown,\n    moveUp,\n    openSubmenu,\n    closeSubmenu,\n  };\n}\n","/*\n * css classes mapping\n * */\nexport const enum STYLE {\n  menu = 'react-contexify',\n  submenu = 'react-contexify react-contexify__submenu',\n  submenuArrow = 'react-contexify__submenu-arrow',\n  submenuOpen = 'react-contexify__submenu--is-open',\n  separator = 'react-contexify__separator',\n  item = 'react-contexify__item',\n  itemDisabled = 'react-contexify__item--disabled',\n  itemContent = 'react-contexify__item__content',\n  theme = 'react-contexify__theme--',\n  animationWillEnter = 'react-contexify__will-enter--',\n  animationWillLeave = 'react-contexify__will-leave--',\n}\n\nexport const enum EVENT {\n  HIDE_ALL,\n}\n\nexport const theme = {\n  light: 'light',\n  dark: 'dark',\n};\n\nexport const animation = {\n  fade: 'fade',\n  flip: 'flip',\n  scale: 'scale',\n  slide: 'slide',\n};\n\nexport const NOOP = () => {};\n","import { Children, cloneElement, ReactNode, ReactElement } from 'react';\n\nimport {\n  BooleanPredicate,\n  PredicateParams,\n  MenuAnimation,\n  TriggerEvent,\n} from '../types';\n\nexport function isFn(v: any): v is Function {\n  return typeof v === 'function';\n}\n\nexport function isStr(v: any): v is String {\n  return typeof v === 'string';\n}\n\nexport function isTouchEvent(e: TriggerEvent): e is TouchEvent {\n  return e.type === 'touchend';\n}\n\nexport function cloneItems(\n  children: ReactNode,\n  props: { triggerEvent: TriggerEvent; propsFromTrigger?: object }\n) {\n  return Children.map(\n    // remove null item\n    Children.toArray(children).filter(Boolean),\n    item => cloneElement(item as ReactElement<any>, props)\n  );\n}\n\nexport function getMousePosition(e: TriggerEvent) {\n  const pos = {\n    x: 0,\n    y: 0,\n  };\n\n  if (isTouchEvent(e) && e.changedTouches && e.changedTouches.length > 0) {\n    pos.x = e.changedTouches[0].clientX;\n    pos.y = e.changedTouches[0].clientY;\n  } else {\n    pos.x = (e as MouseEvent).clientX;\n    pos.y = (e as MouseEvent).clientY;\n  }\n\n  if (!pos.x || pos.x < 0) pos.x = 0;\n\n  if (!pos.y || pos.y < 0) pos.y = 0;\n\n  return pos;\n}\n\nexport function getPredicateValue(\n  predicate: BooleanPredicate,\n  payload: PredicateParams\n) {\n  return isFn(predicate) ? predicate(payload) : predicate;\n}\n\nexport function hasExitAnimation(animation: MenuAnimation) {\n  return !!(\n    animation &&\n    (isStr(animation) || ('exit' in animation && animation.exit))\n  );\n}\n","/* global: window */\nimport React, {\n  ReactNode,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport cx from 'clsx';\n\nimport { RefTrackerProvider } from './RefTrackerProvider';\n\nimport { eventManager } from '../core/eventManager';\nimport {\n  TriggerEvent,\n  MenuId,\n  ContextMenuParams,\n  MenuAnimation,\n} from '../types';\nimport { usePrevious, useRefTracker } from '../hooks';\nimport { createMenuController } from './menuController';\nimport { NOOP, STYLE, EVENT } from '../constants';\nimport {\n  cloneItems,\n  getMousePosition,\n  hasExitAnimation,\n  isFn,\n  isStr,\n} from './utils';\n\nexport interface MenuProps\n  extends Omit<React.HTMLAttributes<HTMLElement>, 'id'> {\n  /**\n   * Unique id to identify the menu. Use to Trigger the corresponding menu\n   */\n  id: MenuId;\n\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Theme is appended to `react-contexify__theme--${given theme}`.\n   *\n   * Built-in theme are `light` and `dark`\n   */\n  theme?: string;\n\n  /**\n   * Animation is appended to\n   * - `.react-contexify__will-enter--${given animation}`\n   * - `.react-contexify__will-leave--${given animation}`\n   *\n   * - To disable all animations you can pass `false`\n   * - To disable only the enter or the exit animation you can provide an object `{enter: false, exit: 'exitAnimation'}`\n   *\n   * - default is set to `scale`\n   *\n   * To use the built-in animation a helper in available\n   * `import { animation } from 'react-contexify`\n   *\n   * animation.fade\n   */\n  animation?: MenuAnimation;\n\n  /**\n   * Invoked after the menu is visible.\n   */\n  onShown?: () => void;\n\n  /**\n   * Invoked after the menu has been hidden.\n   */\n  onHidden?: () => void;\n}\n\ninterface MenuState {\n  x: number;\n  y: number;\n  visible: boolean;\n  triggerEvent: TriggerEvent;\n  propsFromTrigger: any;\n  willLeave: boolean;\n}\n\nfunction reducer(\n  state: MenuState,\n  payload: Partial<MenuState> | ((state: MenuState) => Partial<MenuState>)\n) {\n  return isFn(payload)\n    ? { ...state, ...payload(state) }\n    : { ...state, ...payload };\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  id,\n  theme,\n  style,\n  className,\n  children,\n  animation = 'scale',\n  onHidden = NOOP,\n  onShown = NOOP,\n  ...rest\n}) => {\n  const [state, setState] = useReducer(reducer, {\n    x: 0,\n    y: 0,\n    visible: false,\n    triggerEvent: {} as TriggerEvent,\n    propsFromTrigger: null,\n    willLeave: false,\n  });\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const didMount = useRef(false);\n  const wasVisible = usePrevious(state.visible);\n  const refTracker = useRefTracker();\n  const [menuController] = useState(() => createMenuController());\n\n  // subscribe event manager\n  useEffect(() => {\n    didMount.current = true;\n    eventManager.on(id, show).on(EVENT.HIDE_ALL, hide);\n\n    return () => {\n      eventManager.off(id, show).off(EVENT.HIDE_ALL, hide);\n    };\n    // hide rely on setState(dispatch), which is guaranted to be the same across render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  // handle show/ hide callback\n  useEffect(() => {\n    if (didMount.current && state.visible !== wasVisible) {\n      state.visible ? onShown() : onHidden();\n    }\n    // wasWisible is a ref\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, onHidden, onShown]);\n\n  // collect menu items for keyboard navigation\n  useEffect(() => {\n    if (!state.visible) {\n      refTracker.clear();\n    } else {\n      menuController.init(Array.from(refTracker.values()));\n    }\n  }, [state.visible, menuController, refTracker]);\n\n  // compute menu position\n  useEffect(() => {\n    if (state.visible) {\n      const { innerWidth: windowWidth, innerHeight: windowHeight } = window;\n      const {\n        offsetWidth: menuWidth,\n        offsetHeight: menuHeight,\n      } = nodeRef.current!;\n      let { x, y } = state;\n\n      if (x + menuWidth > windowWidth) {\n        x -= x + menuWidth - windowWidth;\n      }\n\n      if (y + menuHeight > windowHeight) {\n        y -= y + menuHeight - windowHeight;\n      }\n\n      setState({\n        x,\n        y,\n      });\n    }\n\n    // state.visible and state{x,y} are updated together\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible]);\n\n  // subscribe dom events\n  useEffect(() => {\n    function handleKeyboard(e: KeyboardEvent) {\n      e.preventDefault();\n      switch (e.key) {\n        case 'Enter':\n          if (!menuController.openSubmenu()) hide();\n          break;\n        case 'Escape':\n          hide();\n          break;\n        case 'ArrowUp':\n          menuController.moveUp();\n          break;\n        case 'ArrowDown':\n          menuController.moveDown();\n          break;\n        case 'ArrowRight':\n          menuController.openSubmenu();\n          break;\n        case 'ArrowLeft':\n          menuController.closeSubmenu();\n          break;\n      }\n    }\n\n    if (state.visible) {\n      window.addEventListener('resize', hide);\n      window.addEventListener('contextmenu', hide);\n      window.addEventListener('click', hide);\n      window.addEventListener('scroll', hide);\n      window.addEventListener('keydown', handleKeyboard);\n\n      // This let us debug the menu in the console in dev mode\n      if (process.env.NODE_ENV !== 'development') {\n        window.addEventListener('blur', hide);\n      }\n    }\n\n    return () => {\n      window.removeEventListener('resize', hide);\n      window.removeEventListener('contextmenu', hide);\n      window.removeEventListener('click', hide);\n      window.removeEventListener('scroll', hide);\n      window.removeEventListener('keydown', handleKeyboard);\n\n      if (process.env.NODE_ENV !== 'development') {\n        window.removeEventListener('blur', hide);\n      }\n    };\n    // state.visible will let us get the right reference to `hide`\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, menuController]);\n\n  function show({ event, props, position }: ContextMenuParams) {\n    event.stopPropagation();\n    const { x, y } = position || getMousePosition(event);\n\n    // prevent react from batching the state update\n    // if the menu is already visible we have to recompute bounding rect based on position\n    setTimeout(() => {\n      setState({\n        visible: true,\n        willLeave: false,\n        x,\n        y,\n        triggerEvent: event,\n        propsFromTrigger: props,\n      });\n    }, 0);\n  }\n\n  function hide(event?: Event) {\n    // Safari trigger a click event when you ctrl + trackpad\n    // Firefox:  trigger a click event when right click occur\n    const e = event as KeyboardEvent & MouseEvent;\n\n    if (\n      typeof e !== 'undefined' &&\n      (e.button === 2 || e.ctrlKey === true) &&\n      e.type !== 'contextmenu'\n    ) {\n      return;\n    }\n\n    hasExitAnimation(animation)\n      ? setState(state => ({ willLeave: state.visible }))\n      : setState(state => ({ visible: state.visible ? false : state.visible }));\n  }\n\n  function handleAnimationEnd() {\n    if (state.willLeave && state.visible) {\n      setState({ visible: false, willLeave: false });\n    }\n  }\n\n  function computeAnimationClasses() {\n    if (!animation) return null;\n\n    if (isStr(animation)) {\n      return cx({\n        [`${STYLE.animationWillEnter}${animation}`]:\n          animation && visible && !willLeave,\n        [`${STYLE.animationWillLeave}${animation} ${STYLE.animationWillLeave}'disabled'`]:\n          animation && visible && willLeave,\n      });\n    } else if ('enter' in animation && 'exit' in animation) {\n      return cx({\n        [`${STYLE.animationWillEnter}${animation.enter}`]:\n          animation.enter && visible && !willLeave,\n        [`${STYLE.animationWillLeave}${animation.exit} ${STYLE.animationWillLeave}'disabled'`]:\n          animation.exit && visible && willLeave,\n      });\n    }\n\n    return null;\n  }\n\n  const { visible, triggerEvent, propsFromTrigger, x, y, willLeave } = state;\n  const cssClasses = cx(\n    STYLE.menu,\n    className,\n    { [`${STYLE.theme}${theme}`]: theme },\n    computeAnimationClasses()\n  );\n\n  const menuStyle = {\n    ...style,\n    left: x,\n    top: y,\n    opacity: 1,\n  };\n\n  return (\n    <RefTrackerProvider refTracker={refTracker}>\n      {visible && (\n        <div\n          {...rest}\n          className={cssClasses}\n          onAnimationEnd={handleAnimationEnd}\n          style={menuStyle}\n          ref={nodeRef}\n          role=\"menu\"\n        >\n          {cloneItems(children, {\n            propsFromTrigger,\n            triggerEvent,\n          })}\n        </div>\n      )}\n    </RefTrackerProvider>\n  );\n};\n","import { useEffect, useRef } from 'react';\n\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import React, { ReactNode } from 'react';\nimport cx from 'clsx';\n\nimport {\n  ItemParams,\n  InternalProps,\n  BooleanPredicate,\n  HandlerParamsEvent,\n} from '../types';\nimport { useRefTrackerContext } from './RefTrackerProvider';\nimport { NOOP, STYLE } from '../constants';\nimport { getPredicateValue } from './utils';\n\nexport interface ItemProps\n  extends InternalProps,\n    Omit<React.HTMLAttributes<HTMLElement>, 'hidden' | 'disabled' | 'onClick'> {\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Passed to the `Item` onClick callback. Accessible via `data`\n   */\n  data?: any;\n\n  /**\n   * Disable `Item`. If a function is used, a boolean must be returned\n   *\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   *\n   * ```\n   * function isItemDisabled({ triggerEvent, props, data }: PredicateParams<type of props, type of data>): boolean\n   * <Item disabled={isItemDisabled} data={data}>content</Item>\n   * ```\n   */\n  disabled?: BooleanPredicate;\n\n  /**\n   * Hide the `Item`. If a function is used, a boolean must be returned\n   *\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   *\n   * ```\n   * function isItemHidden({ triggerEvent, props, data }: PredicateParams<type of props, type of data>): boolean\n   * <Item hidden={isItemHidden} data={data}>content</Item>\n   * ```\n   */\n  hidden?: BooleanPredicate;\n\n  /**\n   * Callback when the `Item` is clicked.\n   *\n   * @param event The event that occured on the Item node\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   * ```\n   * function handleItemClick({ triggerEvent, event, props, data }: ItemParams<type of props, type of data>){\n   *    // retrieve the id of the Item or any other dom attribute\n   *    const id = e.currentTarget.id;\n   *\n   *    // access the props and the data\n   *    console.log(props, data);\n   *\n   *    // access the coordinate of the mouse when the menu has been displayed\n   *    const {  clientX, clientY } = triggerEvent;\n   *\n   * }\n   *\n   * <Item id=\"item-id\" onClick={handleItemClick} data={{key: 'value'}}>Something</Item>\n   * ```\n   */\n  onClick?: (args: ItemParams) => void;\n}\n\nexport const Item: React.FC<ItemProps> = ({\n  children,\n  className,\n  style,\n  triggerEvent,\n  data,\n  propsFromTrigger,\n  onClick = NOOP,\n  disabled = false,\n  hidden = false,\n  ...rest\n}) => {\n  const refTracker = useRefTrackerContext();\n  const handlerParams = {\n    data,\n    triggerEvent: triggerEvent as HandlerParamsEvent,\n    props: propsFromTrigger,\n  };\n  const isDisabled = getPredicateValue(disabled, handlerParams);\n  const isHidden = getPredicateValue(hidden, handlerParams);\n\n  function handleClick(e: React.MouseEvent<HTMLElement>) {\n    (handlerParams as ItemParams).event = e;\n    isDisabled ? e.stopPropagation() : onClick(handlerParams as ItemParams);\n  }\n\n  function trackRef(node: HTMLElement | null) {\n    if (node && !isDisabled)\n      refTracker.set(node, {\n        node,\n        isSubmenu: false,\n      });\n  }\n\n  function handleKeyDown(e: React.KeyboardEvent<HTMLElement>) {\n    if (e.key === 'Enter') {\n      (handlerParams as ItemParams).event = e;\n      onClick(handlerParams as ItemParams);\n    }\n  }\n\n  if (isHidden) return null;\n\n  const cssClasses = cx(STYLE.item, className, {\n    [`${STYLE.itemDisabled}`]: isDisabled,\n  });\n\n  return (\n    <div\n      {...rest}\n      className={cssClasses}\n      style={style}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      ref={trackRef}\n      tabIndex={-1}\n      role=\"menuitem\"\n      aria-disabled={isDisabled}\n    >\n      <div className={STYLE.itemContent}>{children}</div>\n    </div>\n  );\n};\n","import React, { ReactNode, useEffect, useRef, useState } from 'react';\nimport cx from 'clsx';\n\nimport { InternalProps, BooleanPredicate, HandlerParamsEvent } from '../types';\nimport { RefTrackerProvider, useRefTrackerContext } from './RefTrackerProvider';\nimport { useRefTracker } from '../hooks';\nimport { STYLE } from '../constants';\nimport { cloneItems, getPredicateValue } from './utils';\n\nexport interface SubMenuProps\n  extends InternalProps,\n    Omit<React.HTMLAttributes<HTMLElement>, 'hidden'> {\n  /**\n   * Any valid node that can be rendered\n   */\n  label: ReactNode;\n\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Render a custom arrow\n   */\n  arrow?: ReactNode;\n\n  /**\n   * Disable the `Submenu`. If a function is used, a boolean must be returned\n   */\n  disabled?: BooleanPredicate;\n\n  /**\n   * Hide the `Submenu` and his children. If a function is used, a boolean must be returned\n   */\n  hidden?: BooleanPredicate;\n}\n\ninterface SubMenuState {\n  left?: string | number;\n  right?: string | number;\n  top?: string | number;\n  bottom?: string | number;\n}\n\nexport const Submenu: React.FC<SubMenuProps> = ({\n  arrow = 'â–¶',\n  children,\n  disabled = false,\n  hidden = false,\n  label,\n  className,\n  triggerEvent,\n  propsFromTrigger,\n  style,\n  ...rest\n}) => {\n  const menuRefTracker = useRefTrackerContext();\n  const refTracker = useRefTracker();\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const [position, setPosition] = useState<SubMenuState>({\n    left: '100%',\n    top: 0,\n    bottom: 'initial',\n  });\n  const handlerParams = {\n    triggerEvent: triggerEvent as HandlerParamsEvent,\n    props: propsFromTrigger,\n  };\n  const isDisabled = getPredicateValue(disabled, handlerParams);\n  const isHidden = getPredicateValue(hidden, handlerParams);\n\n  useEffect(() => {\n    if (nodeRef.current) {\n      const { innerWidth, innerHeight } = window;\n      const rect = nodeRef.current.getBoundingClientRect();\n      const style: SubMenuState = {};\n\n      if (rect.right < innerWidth) {\n        style.left = '100%';\n        style.right = undefined;\n      } else {\n        style.right = '100%';\n        style.left = undefined;\n      }\n\n      if (rect.bottom > innerHeight) {\n        style.bottom = 0;\n        style.top = 'initial';\n      } else {\n        style.bottom = 'initial';\n      }\n\n      setPosition(style);\n    }\n  }, []);\n\n  function handleClick(e: React.SyntheticEvent) {\n    e.stopPropagation();\n  }\n\n  function trackRef(node: HTMLElement | null) {\n    if (node && !isDisabled)\n      menuRefTracker.set(node, {\n        node,\n        isSubmenu: true,\n        submenuRefTracker: refTracker,\n      });\n  }\n\n  if (isHidden) return null;\n\n  const cssClasses = cx(STYLE.item, className, {\n    [`${STYLE.itemDisabled}`]: isDisabled,\n  });\n\n  const submenuStyle = {\n    ...style,\n    ...position,\n  };\n\n  return (\n    <RefTrackerProvider refTracker={refTracker}>\n      <div\n        {...rest}\n        className={cssClasses}\n        ref={trackRef}\n        tabIndex={-1}\n        role=\"menuitem\"\n        aria-haspopup\n        aria-disabled={isDisabled}\n      >\n        <div className={STYLE.itemContent} onClick={handleClick}>\n          {label}\n          <span className={STYLE.submenuArrow}>{arrow}</span>\n        </div>\n        <div className={STYLE.submenu} ref={nodeRef} style={submenuStyle}>\n          {cloneItems(children, {\n            propsFromTrigger,\n            // injected by the parent\n            triggerEvent: triggerEvent!,\n          })}\n        </div>\n      </div>\n    </RefTrackerProvider>\n  );\n};\n"],"sourceRoot":""}