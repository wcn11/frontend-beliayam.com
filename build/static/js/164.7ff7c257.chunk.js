(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[164],{1860:function(e,a,t){"use strict";t.r(a);var n=t(21),r=t(488),c=t(16),s=t(484),i=t.n(s),o=t(1),l=t(58),u=t.n(l),d=t(470),m=t(542),b=(t(83),t(123)),j=t(496),h=t(128),p=t(783),f=t(133),O=t(515),x=t(465),v=t(507),g=t(482),y=t(244),N=t(1012),w=t(471),k=t(472),S=t(473),z=t(476),C=t(487),T=t(934),B=t(486),I=t(962),P=t(931),F=t(463),q=(t(519),t(485)),A=t(502),D=t(6),L=function(e){var a=e.name,t=e.role;return Object(D.jsxs)(o.Fragment,{children:[Object(D.jsx)("div",{className:"toastify-header",children:Object(D.jsxs)("div",{className:"title-wrapper",children:[Object(D.jsx)(d.a,{size:"sm",color:"success",icon:Object(D.jsx)(N.a,{size:12})}),Object(D.jsxs)("h6",{className:"toast-title font-weight-bold",children:["Selamat Datang, ",a]})]})}),Object(D.jsx)("div",{className:"toastify-body",children:Object(D.jsxs)("span",{children:["Anda berhasil login sebagai ",t,". Sekarang anda bisa mulai bekerja. Enjoy!"]})})]})};a.default=function(e){var a,s=Object(m.a)(),l=Object(c.a)(s,2),d=l[0],N=(l[1],Object(o.useContext)(f.a)),R=Object(b.b)(),E=Object(O.g)(),J=Object(o.useState)("beliayamcom@gmail.com"),U=Object(c.a)(J,2),V=U[0],_=U[1],G=Object(o.useState)("bac.beliayamcom"),H=Object(c.a)(G,2),K=H[0],M=H[1],Q=Object(j.c)(),W=Q.register,X=Q.errors,Y=Q.handleSubmit,Z="dark"===d?"login-v2-dark.svg":"login-v2.svg",$=t(630)("./".concat(Z)).default,ee=function(){var e=Object(r.a)(i.a.mark((function e(){var a,t,n,r,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(g.e)(X)){e.next=17;break}return a={method:"POST",data:{email:V,password:K}},e.prev=2,e.next=5,Object(A.a)(q.i,a);case 5:t=e.sent,n=t.data.data,r=n.admin,c=n.token,s={id:r._id,name:r.name,username:r.username,email:r.email,role:r.role.roleName,ability:[{action:"manage",subject:"all"}],accessToken:c.accessToken,refreshToken:c.refreshToken},R(Object(p.a)(s)),N.update(s.ability),E.push(Object(g.c)(r.role.roleName)),h.f.success(Object(D.jsx)(L,{name:s.fullName||s.username,role:s.role}),{transition:h.c,hideProgressBar:!0,autoClose:8e3}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{className:"auth-wrapper auth-v2",children:Object(D.jsxs)(w.a,{className:"auth-inner m-0",children:[Object(D.jsxs)(x.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:[Object(D.jsx)("img",{src:y.default,alt:""}),Object(D.jsx)("h2",{className:"brand-text text-primary ml-1",children:"Beliayam.com"})]}),Object(D.jsx)(k.a,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(D.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(D.jsx)("img",{className:"img-fluid",src:$,alt:"Login V2"})})}),Object(D.jsx)(k.a,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(D.jsxs)(k.a,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[Object(D.jsx)(S.a,{tag:"h2",className:"font-weight-bold mb-1",children:"Selamat Datang di Dashboard! \ud83d\udc4b"}),Object(D.jsx)(z.a,{className:"mb-2",children:"Silahkan Login dengan mengisi data dibawah"}),Object(D.jsxs)(C.a,{className:"auth-login-form mt-2",onSubmit:Y(ee),children:[Object(D.jsxs)(T.a,{children:[Object(D.jsx)(B.a,{className:"form-label",for:"login-email",children:"Email"}),Object(D.jsx)(I.a,{autoFocus:!0,type:"email",value:V,id:"login-email",name:"login-email",placeholder:"john@example.com",onChange:function(e){return _(e.target.value)},className:u()({"is-invalid":X["login-email"]}),innerRef:W({required:!0,validate:function(e){return""!==e}})})]}),Object(D.jsxs)(T.a,{children:[Object(D.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(D.jsx)(B.a,{className:"form-label",for:"login-password",children:"Password"}),Object(D.jsx)(x.b,{to:"/forgot-password",children:Object(D.jsx)("small",{children:"Lupa Password?"})})]}),Object(D.jsx)(v.a,(a={value:K,id:"login-password",name:"login-password",className:"input-group-merge",onChange:function(e){return M(e.target.value)}},Object(n.a)(a,"className",u()({"is-invalid":X["login-password"]})),Object(n.a)(a,"innerRef",W({required:!0,validate:function(e){return""!==e}})),a))]}),Object(D.jsx)(T.a,{children:Object(D.jsx)(P.a,{type:"checkbox",className:"custom-control-Primary",id:"remember-me",label:"Ingat saya"})}),Object(D.jsx)(F.a.Ripple,{type:"submit",color:"primary",block:!0,children:"Sign in"})]}),Object(D.jsxs)("p",{className:"text-center mt-2",children:[Object(D.jsx)("span",{className:"mr-25",children:"Belum punya akun?"}),Object(D.jsx)(x.b,{to:"/misc/not-authorized",children:Object(D.jsx)("span",{children:"Buat baru"})})]})]})})]})})}},485:function(e,a,t){"use strict";t.d(a,"j",(function(){return n})),t.d(a,"i",(function(){return r})),t.d(a,"a",(function(){return c})),t.d(a,"h",(function(){return s})),t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return o})),t.d(a,"d",(function(){return l})),t.d(a,"e",(function(){return u})),t.d(a,"f",(function(){return d})),t.d(a,"g",(function(){return m}));var n="https://be-dev.beliayam.com/api/v1/admin/auth/refresh-token",r="https://be-dev.beliayam.com/api/v1/admin/auth/login",c="https://be-dev.beliayam.com/api/v1/admin/users",s=function(e){return"https://be-dev.beliayam.com/api/v1/admin/users/".concat(e)},i="https://be-dev.beliayam.com/api/v1/admin/category",o=function(e){return"https://be-dev.beliayam.com/api/v1/admin/category/".concat(e)},l="https://be-dev.beliayam.com/api/v1/admin/product",u=function(e){return"https://be-dev.beliayam.com/api/v1/admin/product/".concat(e)},d="https://be-dev.beliayam.com/api/v1/admin/promo",m=function(e){return"https://be-dev.beliayam.com/api/v1/admin/promo/".concat(e)}},502:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));var n=t(0),r=t(488),c=t(484),s=t.n(c),i=t(83),o=t.n(i);t(485);o.a.defaults.baseURL="https://be-dev.beliayam.com/",o.a.defaults.headers.common.Authorization="Bearer token";var l=o.a.create(),u=function(e){return localStorage.getItem(e)};var d=function(){var e=Object(r.a)(s.a.mark((function e(a,t){var c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(n.a)(Object(n.a)({},t),{},{url:a,headers:Object(n.a)({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers)}),e.prev=1,l.interceptors.request.use(function(){var e=Object(r.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.headers.Authorization||u()&&(a.headers.Authorization="Bearer ".concat(u())),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),e.next=5,o.a.request(c);case 5:if(!(i=e.sent)){e.next=8;break}return e.abrupt("return",i);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),null===e.t0||void 0===e.t0?void 0:e.t0.response;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}()},507:function(e,a,t){"use strict";var n=t(0),r=t(21),c=t(16),s=t(122),i=t(1),o=t(58),l=t.n(o),u=t(1029),d=t(1028),m=t(486),b=t(960),j=t(962),h=t(961),p=t(782),f=t(6),O=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName"],x=function(e){var a=e.label,t=e.hideIcon,o=e.showIcon,x=e.visible,v=e.className,g=e.htmlFor,y=e.placeholder,N=e.iconSize,w=e.inputClassName,k=Object(s.a)(e,O),S=Object(i.useState)(x),z=Object(c.a)(S,2),C=z[0],T=z[1];return Object(f.jsxs)(i.Fragment,{children:[a?Object(f.jsx)(m.a,{for:g,children:a}):null,Object(f.jsxs)(b.a,{className:l()(Object(r.a)({},v,v)),children:[Object(f.jsx)(j.a,Object(n.a)(Object(n.a)({type:!1===C?"password":"text",placeholder:y||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:l()(Object(r.a)({},w,w))},a&&g?{id:g}:{}),k)),Object(f.jsx)(h.a,{addonType:"append",onClick:function(){return T(!C)},children:Object(f.jsx)(p.a,{className:"cursor-pointer",children:function(){var e=N||14;return!1===C?t||Object(f.jsx)(u.a,{size:e}):o||Object(f.jsx)(d.a,{size:e})}()})})]})]})};a.a=x,x.defaultProps={visible:!1}}}]);
//# sourceMappingURL=164.7ff7c257.chunk.js.map