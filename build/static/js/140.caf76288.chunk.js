(this["webpackJsonpadmin-dashboard-beliayam"]=this["webpackJsonpadmin-dashboard-beliayam"]||[]).push([[140],{2026:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(1),c=n(528),i=n(465),o=n(494),s=n(123),d=n(680),l=n(481),u=n(512),j=n(128),m=n(506),b=n(1092),p=n(1122),h=n(1191),O=n(516),f=n(518),v=n(513),x=n(604),g=n(463),y=n(471),k=n(472),A=n(1061),w=n(486),P=n(498),C=n(1030),N=n(1058),R=n(562),B=n(6),T=function(e){var t=e.selectedPromo,n=Object(s.b)(),i=Object(c.i)().id,T=Object(o.c)(),z=T.register,V=T.errors,E=T.handleSubmit,_=Object(r.useState)(!1),D=Object(a.a)(_,2),S=D[0],q=D[1],L=Object(r.useState)(null),M=Object(a.a)(L,2),I=(M[0],M[1]),U=Object(r.useState)(null),F=Object(a.a)(U,2),G=F[0],H=F[1];Object(r.useEffect)((function(){n(Object(d.d)(i))}),[i]),Object(r.useEffect)((function(){H(t)}),[t]);var J=function(){return Object(B.jsxs)(O.a,{isOpen:S,toggle:function(){return q(!S)},className:"modal-dialog-centered",children:[Object(B.jsx)(f.a,{toggle:function(){return q(!S)},children:"Vertically Centered"}),Object(B.jsx)(v.a,{children:"Oat cake ice cream candy chocolate cake chocolate cake cotton candy drag\xe9e apple pie. Brownie carrot cake candy canes bonbon fruitcake topping halvah. Cake sweet roll cake cheesecake cookie chocolate cake liquorice."}),Object(B.jsxs)(x.a,{children:[Object(B.jsx)(g.a,{color:"primary",onClick:function(){return q(!S)},children:"Accept"})," "]})]})};return G?Object(B.jsxs)(y.a,{children:[Object(B.jsx)(k.a,{sm:"12",children:Object(B.jsx)(A.a,{className:"mb-2",children:Object(B.jsxs)(A.a,{className:"mt-50",body:!0,children:[Object(B.jsxs)("h4",{children:[t.name," "]}),Object(B.jsxs)("div",{className:"d-flex flex-wrap mt-1 px-0",children:[Object(B.jsxs)(g.a.Ripple,{id:"change-img",tag:w.a,className:"mr-75 mb-0",color:"primary",children:[Object(B.jsx)("span",{className:"d-none d-sm-block",children:"Change"}),Object(B.jsx)("span",{className:"d-block d-sm-none",children:Object(B.jsx)(p.a,{size:14})}),Object(B.jsx)("input",{type:"file",hidden:!0,id:"change-img",onChange:function(e){var t=new FileReader,n=e.target.files;t.onload=function(){I(t.result)},t.readAsDataURL(n[0])},accept:"image/*"})]}),Object(B.jsxs)(g.a.Ripple,{color:"secondary",outline:!0,children:[Object(B.jsx)("span",{className:"d-none d-sm-block",children:"Remove"}),Object(B.jsx)("span",{className:"d-block d-sm-none",children:Object(B.jsx)(h.a,{size:14})})]})]})]})})}),Object(B.jsx)(k.a,{sm:"12",children:Object(B.jsx)(P.a,{onClick:function(e){return e.preventDefault(J)},children:Object(B.jsxs)(y.a,{children:[Object(B.jsx)(k.a,{md:"4",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"name",children:"Promo Name"}),Object(B.jsx)(N.a,{type:"text",id:"name",name:"name",placeholder:"Charge Name",defaultValue:G.name,innerRef:z({required:!0})})]})}),Object(B.jsx)(k.a,{md:"4",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"slug",children:"Slug"}),Object(B.jsx)(N.a,{type:"text",id:"slug",name:"slug",placeholder:"Charge By...",defaultValue:G.slug,innerRef:z({required:!0})})]})}),Object(B.jsx)(k.a,{md:"4",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"tags",children:"Tags"}),Object(B.jsx)(N.a,{type:"text",id:"tags",name:"tags",placeholder:"Charge Value...",defaultValue:G.tags,innerRef:z({required:!0})})]})}),Object(B.jsx)(k.a,{md:"4",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"promoValue",children:"Promo Value"}),Object(B.jsx)(N.a,{type:"number",id:"promoValue",name:"promoValue",placeholder:"Short Description....",defaultValue:G.promoValue,innerRef:z({required:!0})}),Object(B.jsx)(R.a,{children:"Hanya masukan nomor (jangan jail)"})]})}),Object(B.jsx)(k.a,{md:"4",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"promoBy",children:"Promo By"}),Object(B.jsx)(N.a,{type:"text",id:"promoBy",name:"promoBy",placeholder:"Promo By....",defaultValue:G.promoBy,innerRef:z({required:!0})}),Object(B.jsx)(R.a,{children:"Price/Percent"})]})}),Object(B.jsx)(k.a,{md:"4",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"products",children:"Add Products"}),Object(B.jsx)(u.a,{id:"products",name:"products",isMulti:!0,options:[{vale:"broiler",label:"broiler"},{vale:"pejantan",label:"pejantan"}],placeholder:"Add product....",defaultValue:G.products,innerRef:z({required:!0})}),Object(B.jsx)(R.a,{children:"Add product in promo"})]})}),Object(B.jsx)(k.a,{md:"12",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"termsAndConditions",children:"Terms And Condition"}),Object(B.jsx)(N.a,{type:"textarea","no-resize":"true",rows:"8",id:"termsAndConditions",name:"termsAndConditions",placeholder:"Terms And Condition....",defaultValue:G.termsAndConditions,innerRef:z({required:!0})})]})}),Object(B.jsx)(k.a,{md:"12",sm:"12",children:Object(B.jsxs)(C.a,{children:[Object(B.jsx)(w.a,{for:"description",children:"Description"}),Object(B.jsx)(N.a,{type:"textarea",id:"description","no-resize":"true",rows:"8",name:"description",placeholder:"Short Description....",defaultValue:G.description,innerRef:z({required:!0})})]})}),Object(B.jsxs)(k.a,{className:"d-flex flex-sm-row flex-column mt-2",sm:"12",children:[Object(B.jsx)(g.a.Ripple,{onClick:function(){return q(!S)},className:"mb-1 mb-sm-0 mr-0 mr-sm-1",type:"submit",color:"primary",children:"Save Changes"}),Object(B.jsx)(g.a.Ripple,{color:"secondary",outline:!0,children:"Reset"})]}),Object(B.jsxs)(O.a,{isOpen:S,toggle:function(){return q(!S)},className:"modal-dialog-centered",children:[Object(B.jsx)(f.a,{toggle:function(){return q(!S)},children:"Update Promo"}),Object(B.jsx)(v.a,{children:"Apakah anda yakin untuk mengedit data tersebut?, pastikan sudah benar, cek lagi apa sudah yakin?"}),Object(B.jsxs)(x.a,{children:[Object(B.jsx)(g.a,{color:"primary",onClick:E((function(e){Object(l.f)(V)&&n(Object(d.e)(i,{name:e.name,slug:e.slug,tags:e.tags,image_promo:e.image_promo,description:e.description,termsAndConditions:e.termsAndConditions,products:e.products})),q(!S),j.f.success(Object(B.jsx)(m.a,{icon:Object(B.jsx)(b.a,{size:12}),content:"Promo"}),{transition:j.c,hideProgressBar:!0,autoClose:3e3})})),children:"Accept"})," ",Object(B.jsx)(g.a,{color:"primary",outline:!0,onClick:function(){return q(!S)},children:"Cancel"})," "]})]})]})})})]}):null},z=n(1163),V=n(470),E=n(469),_=n(530),D=n(1069),S=n(1070),q=n(540),L=n(541),M=n(499);n(495),t.default=function(){var e=Object(r.useState)("1"),t=Object(a.a)(e,2),n=t[0],o=t[1],l=Object(s.c)((function(e){return e.promos})),u=Object(s.b)(),j=Object(c.i)().id;return Object(r.useEffect)((function(){return u(Object(d.d)(j)),function(){return u(Object(d.d)(j))}}),[u,j]),null!==l.selectedPromo&&void 0!==l.selectedPromo?Object(B.jsx)(y.a,{className:"app-user-edit",children:Object(B.jsx)(k.a,{sm:"12",children:Object(B.jsx)(V.a,{children:Object(B.jsxs)(E.a,{className:"pt-2",children:[Object(B.jsx)(_.a,{pills:!0,children:Object(B.jsx)(D.a,{children:Object(B.jsxs)(S.a,{active:"1"===n,onClick:function(){return o("1")},children:[Object(B.jsx)(z.a,{size:14}),Object(B.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Promo"})]})})}),Object(B.jsxs)(q.a,{activeTab:n,children:[Object(B.jsx)(L.a,{tabId:"1",children:Object(B.jsx)(T,{selectedPromo:l.selectedPromo})}),Object(B.jsx)(L.a,{tabId:"2"}),Object(B.jsx)(L.a,{tabId:"3"})]})]})})})}):Object(B.jsxs)(M.a,{color:"danger",children:[Object(B.jsx)("h4",{className:"alert-heading",children:"Promo not found"}),Object(B.jsxs)("div",{className:"alert-body",children:["Promo with id: ",j," doesn't exist. Check list of all Promos: ",Object(B.jsx)(i.b,{to:"/order/promo/list",children:"Promos List"})]})]})}},480:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"p",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return O})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return v}));var a="https://be-dev.beliayam.com/api/v1/admin/auth/refresh-token",r="https://be-dev.beliayam.com/api/v1/admin/auth/login",c="https://be-dev.beliayam.com/api/v1/admin/users",i=function(e){return"https://be-dev.beliayam.com/api/v1/admin/users/".concat(e)},o=function(e){return"https://be-dev.beliayam.com/api/v1/admin/users/".concat(e)},s="https://be-dev.beliayam.com/api/v1/admin/category",d=function(e){return"https://be-dev.beliayam.com/api/v1/admin/category/".concat(e)},l="https://be-dev.beliayam.com/api/v1/admin/product",u=function(e){return"https://be-dev.beliayam.com/api/v1/admin/product/".concat(e)},j="https://be-dev.beliayam.com/api/v1/admin/charge",m=function(e){return"https://be-dev.beliayam.com/api/v1/admin/charge/".concat(e)},b="https://be-dev.beliayam.com/api/v1/admin/promo",p=function(e){return"https://be-dev.beliayam.com/api/v1/admin/promo/".concat(e)},h="https://be-dev.beliayam.com/api/v1/admin/voucher",O=function(e){return"https://be-dev.beliayam.com/api/v1/admin/voucher/".concat(e)},f="https://be-dev.beliayam.com/api/v1/admin/order",v=function(e){return"https://be-dev.beliayam.com/api/v1/admin/order/".concat(e)}},487:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(485),c=n(484),i=n.n(c),o=n(83),s=n.n(o),d=(n(480),s.a.create({baseURL:"https://be-dev.beliayam.com/",headers:{Authorization:"Bearer token"}})),l=function(e){return localStorage.getItem(e)};var u=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(a.a)(Object(a.a)({},n),{},{url:t,headers:Object(a.a)({"Content-Type":"application/json"},null===n||void 0===n?void 0:n.headers)}),e.prev=1,d.interceptors.request.use(function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers.Authorization||l()&&(t.headers.Authorization="Bearer ".concat(l())),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,s.a.request(c);case 5:if(!(o=e.sent)){e.next=8;break}return e.abrupt("return",o);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),null===e.t0||void 0===e.t0?void 0:e.t0.response;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},495:function(e,t,n){},506:function(e,t,n){"use strict";var a=n(1),r=n(468),c=n(6);t.a=function(e){var t=e.icon,n=e.content,i=e.title;return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)("div",{className:"toastify-header",children:Object(c.jsxs)("div",{className:"title-wrapper",children:[Object(c.jsx)(r.a,{size:"sm",color:"success",icon:t}),Object(c.jsx)("h6",{className:"toast-title font-weight-bold",children:i})]})}),Object(c.jsx)("div",{className:"toastify-body",children:Object(c.jsx)("span",{children:n})})]})}},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var a=n(128),r=n(506),c=n(1),i=n(468),o=n(6),s=function(e){var t=e.icon,n=e.content,a=e.title;return Object(o.jsxs)(c.Fragment,{children:[Object(o.jsx)("div",{className:"toastify-header",children:Object(o.jsxs)("div",{className:"title-wrapper",children:[Object(o.jsx)(i.a,{size:"sm",color:"warning",icon:t}),Object(o.jsx)("h6",{className:"toast-title font-weight-bold",children:a})]})}),Object(o.jsx)("div",{className:"toastify-body",children:Object(o.jsx)("span",{children:n})})]})},d=function(e){var t=e.icon,n=e.title,c=e.content;a.f.success(Object(o.jsx)(r.a,{icon:t,title:n,content:c}),{transition:a.c,hideProgressBar:!0,autoClose:4e3})},l=function(e){var t=e.icon,n=e.title,r=e.content;a.f.warning(Object(o.jsx)(s,{icon:t,title:n,content:r}),{transition:a.c,hideProgressBar:!0,autoClose:4e3})}},680:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return O}));var a=n(485),r=n(484),c=n.n(r),i=n(487),o=n(480),s=n(1092),d=n(1029),l=n(507),u=n(6),j=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)(GET_ALL_DATA_PROMO);case 3:(n=e.sent)&&t({type:"GET_ALL_DATA_PROMO",data:null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a,r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.a)(o.j,{params:e});case 3:(a=t.sent)&&n({type:"GET_DATA_PROMO",data:null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data,totalPages:null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.total,params:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ini error get promo",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.a)(Object(o.k)(e));case 3:(a=t.sent)&&n({type:"GET_PROMO_BYID",selectedPromo:null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,a){var r,b,p,h,O;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={method:"POST",data:e},t.next=4,Object(i.a)(o.j,r);case 4:(b=t.sent)&&(n({type:"ADD_PROMO",promo:e}),n(m(null===(p=a().promos)||void 0===p?void 0:p.params)),n(j()),Object(l.a)({icon:Object(u.jsx)(s.a,{size:12}),title:"Berhasil Horeee",content:null===b||void 0===b||null===(h=b.data)||void 0===h?void 0:h.message})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(l.b)({icon:Object(u.jsx)(d.a,{size:12}),title:"Ada error nih",content:null===t.t0||void 0===t.t0||null===(O=t.t0.data)||void 0===O?void 0:O.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,a){var r,b,p,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.a)(Object(o.k)(e),{method:"DELETE"});case 3:(r=t.sent)&&(n({type:"DELETE_PROMO"}),n(m(null===(b=a().promo)||void 0===b?void 0:b.params)),n(j()),Object(l.a)({icon:Object(u.jsx)(s.a,{size:12}),title:"Berhasil Horeee",content:null===r||void 0===r||null===(p=r.data)||void 0===p?void 0:p.message})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(l.b)({icon:Object(u.jsx)(d.a,{size:12}),title:"Ada error nih",content:null===t.t0||void 0===t.t0||null===(h=t.t0.data)||void 0===h?void 0:h.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(a,r){var b,p,h,O,f,v,x,g,y,k,A,w,P,C,N,R,B,T;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b=t.name,p=t.slug,h=t.tags,O=t.products,f=t.termsAndConditions,v=t.promoValue,x=t.promoBy,g=t.promoStart,y=t.promoEnd,k=t.isActive,A=t.description,w=t.platform,P=t.image,(C=new FormData).append("image_promo",P),C.set("name",b),C.set("slug",p),C.set("tags",h),C.set("products",O),C.set("termsAndConditions",f),C.set("promoValue",v),C.set("promoBy",x),C.set("promoStart",g),C.set("promoEnd",y),C.set("isActive",k),C.set("description",A),C.set("platform",w),N={method:"PUT",data:C,headers:{"Content-Type":"multipart/form-data"}},n.next=19,Object(i.a)(Object(o.k)(e),N);case 19:(R=n.sent)&&(a({type:"UPDATE_PROMO",data:null===R||void 0===R?void 0:R.data.data}),a(m(null===(B=r().promos)||void 0===B?void 0:B.params)),a(j()),Object(l.a)({icon:Object(u.jsx)(s.a,{size:12}),title:"Berhasil Horeee",content:null===R||void 0===R||null===(T=R.data)||void 0===T?void 0:T.message})),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(0),Object(l.b)({icon:Object(u.jsx)(d.a,{size:12}),title:"Ada error nih",content:n.t0.data.message});case 26:case"end":return n.stop()}}),n,null,[[0,23]])})));return function(e,t){return n.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=140.caf76288.chunk.js.map