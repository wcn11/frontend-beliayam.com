(this["webpackJsonpadmin-dashboard-beliayam"]=this["webpackJsonpadmin-dashboard-beliayam"]||[]).push([[170],{1878:function(e,a,t){"use strict";t.r(a);var n=t(21),r=t(481),c=t(16),i=t(478),s=t.n(i),o=t(1),u=t(472),l=t(485),m=t(58),d=t.n(m),p=t(465),b=t(586),h=t(123),j=t(502),f=t(128),v=t(978),x=t(134),O=t(550),g=t(464),y=t(531),k=t(480),N=t(91),w=t(1178),S=t(473),z=t(474),T=t(475),C=t(479),P=t(507),I=t(1102),A=t(490),B=t(1128),q=t(1099),F=t(462),D=(t(552),t(6)),R=function(e){var a=e.name,t=e.role;return Object(D.jsxs)(o.Fragment,{children:[Object(D.jsx)("div",{className:"toastify-header",children:Object(D.jsxs)("div",{className:"title-wrapper",children:[Object(D.jsx)(p.a,{size:"sm",color:"success",icon:Object(D.jsx)(w.a,{size:12})}),Object(D.jsxs)("h6",{className:"toast-title font-weight-bold",children:["Selamat Datang, ",a]})]})}),Object(D.jsx)("div",{className:"toastify-body",children:Object(D.jsxs)("span",{children:["Anda berhasil login sebagai ",t,". Sekarang anda bisa mulai bekerja. Enjoy!"]})})]})};a.default=function(e){var a,i=Object(b.a)(),m=Object(c.a)(i,2),p=m[0],w=(m[1],Object(o.useContext)(x.a)),L=Object(h.b)(),_=Object(O.g)(),E=Object(o.useState)(""),J=Object(c.a)(E,2),U=J[0],V=J[1],G=Object(o.useState)(""),H=Object(c.a)(G,2),K=H[0],M=H[1],Q=Object(j.c)(),W=Q.register,X=Q.errors,Y=Q.handleSubmit,Z="dark"===p?"login-v2-dark.svg":"login-v2.svg",$=t(732)("./".concat(Z)).default,ee=function(){var e=Object(r.a)(s.a.mark((function e(){var a,t,n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(k.f)(X)){e.next=17;break}return a={method:"POST",data:{email:U,password:K}},e.prev=2,e.next=5,Object(l.a)(u.s,a);case 5:t=e.sent,n=t.data.data,r=n.admin,c=n.token,i={id:r._id,name:r.name,username:r.username,email:r.email,role:r.role.roleName,ability:[{action:"manage",subject:"all"}],accessToken:c.accessToken,refreshToken:c.refreshToken},L(Object(v.a)(i)),w.update(i.ability),_.push(Object(k.d)(r.role.roleName)),f.f.success(Object(D.jsx)(R,{name:i.fullName||i.username,role:i.role}),{transition:f.c,hideProgressBar:!0,autoClose:8e3}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{className:"auth-wrapper auth-v2",children:Object(D.jsxs)(S.a,{className:"auth-inner m-0",children:[Object(D.jsxs)(g.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:[Object(D.jsx)("img",{src:N.default,height:"40",alt:""}),Object(D.jsx)("h1",{className:"brand-text text-primary ml-1",children:"Beliayam.com"})]}),Object(D.jsx)(z.a,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(D.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(D.jsx)("img",{className:"img-fluid",src:$,alt:"Login V2"})})}),Object(D.jsx)(z.a,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(D.jsxs)(z.a,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[Object(D.jsx)(T.a,{tag:"h2",className:"font-weight-bold mb-1",children:"Selamat Datang di Dashboard! \ud83d\udc4b"}),Object(D.jsx)(C.a,{className:"mb-2",children:"Silahkan Login dengan mengisi data dibawah"}),Object(D.jsxs)(P.a,{className:"auth-login-form mt-2",onSubmit:Y(ee),children:[Object(D.jsxs)(I.a,{children:[Object(D.jsx)(A.a,{className:"form-label",for:"login-email",children:"Email"}),Object(D.jsx)(B.a,{autoFocus:!0,type:"email",value:U,id:"login-email",name:"login-email",placeholder:"john@example.com",onChange:function(e){return V(e.target.value)},className:d()({"is-invalid":X["login-email"]}),innerRef:W({required:!0,validate:function(e){return""!==e}})})]}),Object(D.jsxs)(I.a,{children:[Object(D.jsx)("div",{className:"d-flex justify-content-between",children:Object(D.jsx)(A.a,{className:"form-label",for:"login-password",children:"Password"})}),Object(D.jsx)(y.a,(a={value:K,id:"login-password",name:"login-password",className:"input-group-merge",onChange:function(e){return M(e.target.value)}},Object(n.a)(a,"className",d()({"is-invalid":X["login-password"]})),Object(n.a)(a,"innerRef",W({required:!0,validate:function(e){return""!==e}})),a))]}),Object(D.jsx)(I.a,{children:Object(D.jsx)(q.a,{type:"checkbox",className:"custom-control-Primary",id:"remember-me",label:"Ingat saya"})}),Object(D.jsx)(F.a.Ripple,{type:"submit",color:"primary",block:!0,children:"Sign in"})]})]})})]})})}},472:function(e,a,t){"use strict";t.d(a,"w",(function(){return n})),t.d(a,"s",(function(){return r})),t.d(a,"a",(function(){return c})),t.d(a,"o",(function(){return i})),t.d(a,"n",(function(){return s})),t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return u})),t.d(a,"j",(function(){return l})),t.d(a,"k",(function(){return m})),t.d(a,"d",(function(){return d})),t.d(a,"e",(function(){return p})),t.d(a,"l",(function(){return b})),t.d(a,"m",(function(){return h})),t.d(a,"q",(function(){return j})),t.d(a,"r",(function(){return f})),t.d(a,"f",(function(){return v})),t.d(a,"g",(function(){return x})),t.d(a,"v",(function(){return O})),t.d(a,"u",(function(){return g})),t.d(a,"h",(function(){return y})),t.d(a,"x",(function(){return k})),t.d(a,"i",(function(){return N})),t.d(a,"p",(function(){return w})),t.d(a,"t",(function(){return S})),t.d(a,"A",(function(){return z})),t.d(a,"y",(function(){return T})),t.d(a,"z",(function(){return C})),t.d(a,"B",(function(){return P}));var n="".concat("https://main-v1.beliayam.com","/api/v1/admin/auth/refresh-token"),r="http://localhost:4000/api/v1/admin/auth/login",c="".concat("https://main-v1.beliayam.com","/api/v1/admin/users"),i=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/users/").concat(e)},s=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/users/").concat(e,"/active")},o="".concat("https://main-v1.beliayam.com","/api/v1/admin/category"),u=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/category/").concat(e)},l="".concat("https://main-v1.beliayam.com","/api/v1/admin/product"),m=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/product/").concat(e)},d="".concat("https://main-v1.beliayam.com","/api/v1/admin/charge"),p=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/charge/").concat(e)},b="".concat("https://main-v1.beliayam.com","/api/v1/admin/promo"),h=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/promo/").concat(e)},j="".concat("https://main-v1.beliayam.com","/api/v1/admin/voucher"),f=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/voucher/").concat(e)},v="".concat("https://main-v1.beliayam.com","/api/v1/admin/order"),x=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/order/").concat(e)},O=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/order/").concat(e,"/complete-order")},g=function(e){return"".concat("https://main-v1.beliayam.com","/api/v1/admin/order/").concat(e,"/cancel-order")},y="".concat("https://main-v1.beliayam.com","/api/v1/admin/order/status"),k="".concat("https://main-v1.beliayam.com","/api/v1/admin/order/delivery"),N="".concat("https://main-v1.beliayam.com","/api/v1/admin/order/delivery/fetch"),w="".concat("https://main-v1.beliayam.com","/api/v1/admin/users/time-range/client"),S=("".concat("https://main-v1.beliayam.com","/api/v1/admin/users/time-range/client"),"".concat("https://main-v1.beliayam.com","/api/v1/admin/order/by-payment-method")),z="".concat("https://main-v1.beliayam.com","/api/v1/admin/sales/revenue"),T="".concat("https://main-v1.beliayam.com","/api/v1/admin/sales/total"),C="".concat("https://main-v1.beliayam.com","/api/v1/admin/product/total"),P="".concat("https://main-v1.beliayam.com","/api/v1/admin/users/total")},485:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));var n=t(0),r=t(481),c=t(478),i=t.n(c),s=t(83),o=t.n(s),u=t(472),l=o.a.create({baseURL:"".concat("https://main-v1.beliayam.com"),headers:{Authorization:"Bearer token"}}),m=function(e){return localStorage.getItem(e)},d=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.interceptors.response.use((function(e){return e}),function(){var e=Object(r.a)(i.a.mark((function e(a){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.config,!a.response){e.next=21;break}if(401!==a.response.status||t._retry){e.next=19;break}return t._retry=!0,e.prev=4,e.next=7,o.a.post(u.w,{refreshToken:localStorage.getItem(refreshToken)});case 7:return n=e.sent,r=n.data.accessToken,localStorage.setItem("accessToken",r),l.defaults.headers.Authorization="Bearer ".concat(r),e.abrupt("return",l(t));case 14:if(e.prev=14,e.t0=e.catch(4),!e.t0.response||!e.t0.response.data){e.next=18;break}return e.abrupt("return",Promise.reject(e.t0.response.data));case 18:return e.abrupt("return",Promise.reject(e.t0));case 19:if(403!==a.response.status||!a.response.data){e.next=21;break}return e.abrupt("return",Promise.reject(a.response.data));case 21:return e.abrupt("return",Promise.reject(a));case 22:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(r.a)(i.a.mark((function e(a,t){var c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(n.a)(Object(n.a)({},t),{},{url:a,headers:Object(n.a)({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers)}),e.prev=1,l.interceptors.request.use(function(){var e=Object(r.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.headers.Authorization||m()&&(a.headers.Authorization="Bearer ".concat(m())),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),e.next=5,o.a.request(c);case 5:if(!(s=e.sent)){e.next=9;break}return d(),e.abrupt("return",s);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),null===e.t0||void 0===e.t0?void 0:e.t0.response;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}()},531:function(e,a,t){"use strict";var n=t(0),r=t(21),c=t(16),i=t(124),s=t(1),o=t(58),u=t.n(o),l=t(1194),m=t(1193),d=t(490),p=t(1126),b=t(1128),h=t(1127),j=t(977),f=t(6),v=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName"],x=function(e){var a=e.label,t=e.hideIcon,o=e.showIcon,x=e.visible,O=e.className,g=e.htmlFor,y=e.placeholder,k=e.iconSize,N=e.inputClassName,w=Object(i.a)(e,v),S=Object(s.useState)(x),z=Object(c.a)(S,2),T=z[0],C=z[1];return Object(f.jsxs)(s.Fragment,{children:[a?Object(f.jsx)(d.a,{for:g,children:a}):null,Object(f.jsxs)(p.a,{className:u()(Object(r.a)({},O,O)),children:[Object(f.jsx)(b.a,Object(n.a)(Object(n.a)({type:!1===T?"password":"text",placeholder:y||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:u()(Object(r.a)({},N,N))},a&&g?{id:g}:{}),w)),Object(f.jsx)(h.a,{addonType:"append",onClick:function(){return C(!T)},children:Object(f.jsx)(j.a,{className:"cursor-pointer",children:function(){var e=k||14;return!1===T?t||Object(f.jsx)(l.a,{size:e}):o||Object(f.jsx)(m.a,{size:e})}()})})]})]})};a.a=x,x.defaultProps={visible:!1}}}]);
//# sourceMappingURL=170.e861a9b2.chunk.js.map