{"version":3,"sources":["views/order/voucher/edit/Account.js","views/order/voucher/edit/index.js","utility/Url.js","utility/axiosHooks.js","views/components/toasts/ToastUpdate.js","views/components/toasts/ToastError.js","utility/Toast.js","views/order/voucher/store/action/index.js"],"names":["VoucherAccountTab","selectedVoucher","dispatch","useDispatch","id","useParams","useForm","register","errors","handleSubmit","useState","centeredModal","setCenteredModal","setImg","voucherData","setVoucherData","useEffect","getVoucherById","centerModal","Modal","isOpen","toggle","className","ModalHeader","ModalBody","ModalFooter","Button","color","onClick","Row","Col","sm","Media","body","voucherName","Ripple","tag","Label","size","type","hidden","onChange","e","reader","FileReader","files","target","onload","result","readAsDataURL","accept","outline","Form","onSubmit","preventDefault","md","FormGroup","for","Input","name","placeholder","defaultValue","innerRef","required","voucherCode","discountBy","discountValue","formatDateTime","discountStart","discountEnd","minimumOrderValue","termsAndConditions","values","isObjEmpty","updateVoucher","VoucherEdit","activeTab","setActiveTab","store","useSelector","state","vouchers","undefined","Card","CardBody","Nav","pills","NavItem","NavLink","active","TabContent","TabPane","tabId","Alert","to","REFRESH_TOKEN","LOGIN_URL","GET_ALL_DATA_USER","GET_USER_BYID","GET_USER_BYACTIVE","GET_CATEGORY","GET_CATEGORY_BYID","GET_PRODUCT","GET_PRODUCT_BYID","GET_CHARGE","GET_CHARGE_BYID","GET_PROMO","GET_PROMO_BYID","GET_VOUCHER","GET_VOUCHER_BYID","GET_ORDER","GET_ORDER_BYID","axiosApiInstance","axios","create","baseURL","headers","Authorization","getToken","accessToken","localStorage","getItem","fetcher","url","config","a","header","interceptors","request","use","res","response","ToastUpdate","icon","content","title","ToastError","Toast","toast","success","transition","Slide","hideProgressBar","autoClose","ToastWarning","warning","getVoucher","params","data","totalPages","total","console","log","addVoucher","voucher","getState","req","method","message","deleteVoucher","charges"],"mappings":"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","file":"static/js/141.8864cfe1.chunk.js","sourcesContent":["import { useState, useEffect, Fragment } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport ToastUpdate from '../../../components/toasts/ToastUpdate'\r\nimport { isObjEmpty, formatDateTime } from '@utils'\r\nimport { updateVoucher, getVoucherById } from '../store/action'\r\nimport { toast, Slide } from 'react-toastify'\r\nimport { Edit, Trash2, Check } from 'react-feather'\r\nimport {\r\n  Media, \r\n  Row, \r\n  Col, \r\n  Button, \r\n  Form, \r\n  Input, \r\n  Label, \r\n  FormGroup, \r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Modal,\r\n  FormText } from 'reactstrap'\r\n\r\nconst VoucherAccountTab = ({ selectedVoucher }) => {\r\n   const dispatch = useDispatch(),\r\n      { id } = useParams()\r\n\r\n   const { register, errors, handleSubmit } = useForm()\r\n   const [centeredModal, setCenteredModal] = useState(false)\r\n\r\n   const [img, setImg] = useState(null)\r\n   const [voucherData, setVoucherData] = useState(null)\r\n\r\n   const onChange = e => {\r\n      const reader = new FileReader(),\r\n         files = e.target.files\r\n      reader.onload = function () {\r\n         setImg(reader.result)\r\n      }\r\n      reader.readAsDataURL(files[0])\r\n   }\r\n\r\n   useEffect(() => {\r\n      dispatch(getVoucherById(id))\r\n      // if (selectedCategory !== null || (selectedCategory !== null && categoryData !== null && selectedCategory?._id !== categoryData?._id)) {\r\n      //    // setCategoryData(selectedCategory)\r\n\r\n      //    // if (selectedCategory?.avatar?.length) {\r\n      //    //    return setImg(selectedCategory?.avatar)\r\n      //    // } else {\r\n      //    //    return setImg(null)\r\n      //    // }\r\n      // }\r\n   }, [id])\r\n\r\n   useEffect(() => {\r\n      setVoucherData(selectedVoucher)\r\n   }, [selectedVoucher])\r\n\r\n   const onSubmit = (values) => {\r\n      if (isObjEmpty(errors)) {\r\n         dispatch(\r\n           updateVoucher(id, {\r\n             voucherName: values.voucherName,\r\n             voucherCode: values.voucherCode,\r\n             discountBy: values.discountBy,\r\n             discountValue: values.discountValue,\r\n             discountStart: values.discountStart,\r\n             discountEnd: values.discountEnd,\r\n             minimumOrderValue: values.minimumOrderValue,\r\n             termsAndConditions: values.termsAndConditions,\r\n           })\r\n         )\r\n      }\r\n\r\n     setCenteredModal(!centeredModal)\r\n   }\r\n\r\n  const centerModal = () => {\r\n    return (\r\n      <Modal isOpen={centeredModal} toggle={() => setCenteredModal(!centeredModal)} className='modal-dialog-centered'>\r\n        <ModalHeader toggle={() => setCenteredModal(!centeredModal)}>Vertically Centered</ModalHeader>\r\n        <ModalBody>\r\n          Oat cake ice cream candy chocolate cake chocolate cake cotton candy drag√©e apple pie. Brownie carrot cake\r\n          candy canes bonbon fruitcake topping halvah. Cake sweet roll cake cheesecake cookie chocolate cake\r\n          liquorice.\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color='primary' onClick={() => setCenteredModal(!centeredModal)}>\r\n            Accept\r\n          </Button>{' '}\r\n        </ModalFooter>\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n   if (!voucherData) {\r\n      return null\r\n   } else {\r\n      return (\r\n        <Row>\r\n          <Col sm='12'>\r\n            <Media className='mb-2'>\r\n              {/* {renderUserAvatar()} */}\r\n              <Media className='mt-50' body>\r\n                <h4>{selectedVoucher.voucherName} </h4>\r\n                <div className='d-flex flex-wrap mt-1 px-0'>\r\n                  <Button.Ripple\r\n                    id='change-img'\r\n                    tag={Label}\r\n                    className='mr-75 mb-0'\r\n                    color='primary'>\r\n                    <span className='d-none d-sm-block'>Change</span>\r\n                    <span className='d-block d-sm-none'>\r\n                      <Edit size={14} />\r\n                    </span>\r\n                    <input\r\n                      type='file'\r\n                      hidden\r\n                      id='change-img'\r\n                      onChange={onChange}\r\n                      accept='image/*'\r\n                    />\r\n                  </Button.Ripple>\r\n                  <Button.Ripple color='secondary' outline>\r\n                    <span className='d-none d-sm-block'>Remove</span>\r\n                    <span className='d-block d-sm-none'>\r\n                      <Trash2 size={14} />\r\n                    </span>\r\n                  </Button.Ripple>\r\n                </div>\r\n              </Media>\r\n            </Media>\r\n          </Col>\r\n          <Col sm='12'>\r\n            <Form onSubmit={e => e.preventDefault(centerModal)}>\r\n              <Row>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='voucherName'>Voucher Name</Label>\r\n                    <Input\r\n                      type='text'\r\n                      id='voucherName'\r\n                      name='voucherName'\r\n                      placeholder='Charge Name'\r\n                      defaultValue={voucherData.voucherName}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='voucherCode'>Voucher Code</Label>\r\n                    <Input\r\n                      type='text'\r\n                      id='voucherCode'\r\n                      name='voucherCode'\r\n                      placeholder='Voucher Code...'\r\n                      defaultValue={voucherData.voucherCode}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='discountBy'>Discount By</Label>\r\n                    <Input\r\n                      type='text'\r\n                      id='discountBy'\r\n                      name='discountBy'\r\n                      placeholder='Discount By...'\r\n                      defaultValue={voucherData.discountBy}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='discountValue'>Discount Value</Label>\r\n                    <Input\r\n                      type='number'\r\n                      id='discountValue'\r\n                      name='discountValue'\r\n                      placeholder='Discount Value....'\r\n                      defaultValue={voucherData.discountValue}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='discountStart'>Discount Start </Label>\r\n                    <Input\r\n                      type='datetime-local'\r\n                      id='discountStart'\r\n                      name='discountStart'\r\n                      placeholder='Discount Start....'\r\n                      defaultValue={formatDateTime(voucherData.discountStart)}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='discountEnd'>Discount End</Label>\r\n                    <Input\r\n                      type='datetime-local'\r\n                      id='discountEnd'\r\n                      name='discountEnd'\r\n                      placeholder='Discount End....'\r\n                      defaultValue={formatDateTime(voucherData.discountEnd)}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='minimumOrderValue'>Minimum Order Value</Label>\r\n                    <Input\r\n                      type='number'\r\n                      id='minimumOrderValue'\r\n                      name='minimumOrderValue'\r\n                      placeholder='Minimum Order Value....'\r\n                      defaultValue={voucherData.minimumOrderValue}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md='6' sm='12'>\r\n                  <FormGroup>\r\n                    <Label for='termsAndConditions'>Terms And Condition</Label>\r\n                    <Input\r\n                      type='text'\r\n                      id='termsAndConditions'\r\n                      name='termsAndConditions'\r\n                      placeholder='Terms And Condition....'\r\n                      defaultValue={voucherData.termsAndConditions}\r\n                      innerRef={register({ required: true })}\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col className='d-flex flex-sm-row flex-column mt-2' sm='12'>\r\n                  <Button.Ripple\r\n                    onClick={() => setCenteredModal(!centeredModal)}\r\n                    className='mb-1 mb-sm-0 mr-0 mr-sm-1'\r\n                    type='submit'\r\n                    color='primary'>\r\n                    Save Changes\r\n                  </Button.Ripple>\r\n                  <Button.Ripple color='secondary' outline>\r\n                    Reset\r\n                  </Button.Ripple>\r\n                </Col>\r\n\r\n                <Modal isOpen={centeredModal} toggle={() => setCenteredModal(!centeredModal)} className='modal-dialog-centered'>\r\n                  <ModalHeader toggle={() => setCenteredModal(!centeredModal)}>Update Voucher</ModalHeader>\r\n                  <ModalBody>\r\n                    Apakah anda yakin untuk mengedit data tersebut?, pastikan sudah benar, cek lagi apa sudah yakin?\r\n                  </ModalBody>\r\n                  <ModalFooter>\r\n                    <Button color='primary' onClick={handleSubmit(onSubmit)}>\r\n                      Accept\r\n                    </Button>{' '}\r\n                    <Button color='primary' outline onClick={() => setCenteredModal(!centeredModal)}>\r\n                      Cancel\r\n                    </Button>{' '}\r\n                  </ModalFooter>\r\n                </Modal>\r\n\r\n              </Row>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      )\r\n   }\r\n}\r\n\r\nexport default VoucherAccountTab","import { useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\n\r\nimport VoucherAccountTab from './Account'\r\n\r\nimport { getVoucherById } from '../store/action'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { Box, Info, Share2 } from 'react-feather'\r\nimport { Card, CardBody, Row, Col, Nav, NavItem, NavLink, TabContent, TabPane, Alert } from 'reactstrap'\r\n\r\nimport '@styles/react/apps/app-users.scss'\r\n\r\nconst VoucherEdit = () => {\r\n   const [activeTab, setActiveTab] = useState('1'),\r\n      store = useSelector(state => state.vouchers),\r\n      dispatch = useDispatch(),\r\n      { id } = useParams()\r\n\r\n   const toggle = tab => setActiveTab(tab)\r\n\r\n   useEffect(() => {\r\n      dispatch(getVoucherById(id))\r\n      return () => dispatch(getVoucherById(id))\r\n   }, [dispatch, id])\r\n\r\n   return store.selectedVoucher !== null && store.selectedVoucher !== undefined ? (\r\n      <Row className='app-user-edit'>\r\n         <Col sm='12'>\r\n            <Card>\r\n               <CardBody className='pt-2'>\r\n                  <Nav pills>\r\n                     <NavItem>\r\n                        <NavLink active={activeTab === '1'} onClick={() => toggle('1')}>\r\n                           <Box size={14} />\r\n                           <span className='align-middle d-none d-sm-block'>Product</span>\r\n                        </NavLink>\r\n                     </NavItem>\r\n                     {/* <NavItem>\r\n                                <NavLink active={activeTab === '2'} onClick={() => toggle('2')}>\r\n                                    <Info size={14} />\r\n                                    <span className='align-middle d-none d-sm-block'>Information</span>\r\n                                </NavLink>\r\n                            </NavItem> */}\r\n                     {/* <NavItem>\r\n                                <NavLink active={activeTab === '3'} onClick={() => toggle('3')}>\r\n                                    <Share2 size={14} />\r\n                                    <span className='align-middle d-none d-sm-block'>Social</span>\r\n                                </NavLink>\r\n                            </NavItem> */}\r\n                  </Nav>\r\n                  <TabContent activeTab={activeTab}>\r\n                     <TabPane tabId='1'>\r\n                        <VoucherAccountTab selectedVoucher={store.selectedVoucher} />\r\n                     </TabPane>\r\n                     <TabPane tabId='2'>\r\n                        {/* <InfoTab /> */}\r\n                     </TabPane>\r\n                     <TabPane tabId='3'>\r\n                     </TabPane>\r\n                  </TabContent>\r\n               </CardBody>\r\n            </Card>\r\n         </Col>\r\n      </Row>\r\n   ) : (\r\n      <Alert color='danger'>\r\n         <h4 className='alert-heading'>Voucher not found</h4>\r\n         <div className='alert-body'>\r\n            Voucher with id: {id} doesn't exist. Check list of all Vouchers: <Link to='/order/voucher/list'>Vouchers List</Link>\r\n         </div>\r\n      </Alert>\r\n   )\r\n}\r\n\r\nexport default VoucherEdit","// auth url\r\nexport const REFRESH_TOKEN = 'https://be-dev.beliayam.com/api/v1/admin/auth/refresh-token'\r\nexport const LOGIN_URL = 'https://be-dev.beliayam.com/api/v1/admin/auth/login'\r\n\r\n// user url\r\nexport const GET_ALL_DATA_USER = 'https://be-dev.beliayam.com/api/v1/admin/users'\r\nexport const GET_USER_BYID = (id) => `https://be-dev.beliayam.com/api/v1/admin/users/${id}`\r\nexport const GET_USER_BYACTIVE = (active) => `https://be-dev.beliayam.com/api/v1/admin/users/${active}`\r\n\r\n// category url\r\nexport const GET_CATEGORY = 'https://be-dev.beliayam.com/api/v1/admin/category'\r\nexport const GET_CATEGORY_BYID = (id) => `https://be-dev.beliayam.com/api/v1/admin/category/${id}`\r\nexport const GET_CATEGORY_SLUG = (slug) => `https://be-dev.beliayam.com/api/v1/admin/category/${slug}`\r\n\r\n// product url\r\nexport const GET_PRODUCT = 'https://be-dev.beliayam.com/api/v1/admin/product'\r\nexport const GET_PRODUCT_BYID = (id) => `https://be-dev.beliayam.com/api/v1/admin/product/${id}`\r\nexport const GET_PRODUCT_SLUG = (slug) => `https://be-dev.beliayam.com/api/v1/admin/product/${slug}`\r\n\r\n// charge url\r\nexport const GET_CHARGE = 'https://be-dev.beliayam.com/api/v1/admin/charge'\r\nexport const GET_CHARGE_BYID = (id) => `https://be-dev.beliayam.com/api/v1/admin/charge/${id}`\r\n\r\n// promo url\r\nexport const GET_PROMO = 'https://be-dev.beliayam.com/api/v1/admin/promo'\r\nexport const GET_PROMO_BYID = (id) => `https://be-dev.beliayam.com/api/v1/admin/promo/${id}`\r\nexport const GET_PROMO_SLUG = (slug) => `https://be-dev.beliayam.com/api/v1/admin/promo/${slug}`\r\n\r\n// Voucher\r\nexport const GET_VOUCHER = 'https://be-dev.beliayam.com/api/v1/admin/voucher'\r\nexport const GET_VOUCHER_BYID = (id) => `https://be-dev.beliayam.com/api/v1/admin/voucher/${id}`\r\nexport const GET_VOUCHER_SLUG = (slug) => `https://be-dev.beliayam.com/api/v1/admin/voucher/${slug}`\r\n\r\n// order url\r\nexport const GET_ORDER = 'https://be-dev.beliayam.com/api/v1/admin/order'\r\nexport const GET_ORDER_BYID = (id) => `https://be-dev.beliayam.com/api/v1/admin/order/${id}`\r\n","import axios from 'axios'\r\nimport { REFRESH_TOKEN } from './Url'\r\n\r\nconst axiosApiInstance = axios.create({\r\n    baseURL: 'https://be-dev.beliayam.com/',\r\n    headers: {\r\n        Authorization: 'Bearer token'\r\n    }\r\n})\r\n\r\nconst getToken = (accessToken) => {\r\n    return localStorage.getItem(accessToken)\r\n}\r\n\r\nconst axiosInterceptor = () => {\r\n    axiosApiInstance.interceptors.request.use(async (config) => {\r\n        if (!config.headers.Authorization) {\r\n            const plainToken = getToken()\r\n            const token = plainToken\r\n            if (token) {\r\n                config.headers.Authorization = `Bearer ${getToken()}`\r\n            }\r\n        }\r\n        return config\r\n    })\r\n}\r\n\r\nconst axiosInterceptorResponse = async () => {\r\n    axios.interceptors.response.use(\r\n        response => {\r\n            return response\r\n        },\r\n        async error => {\r\n            if (error.response !== 401) {\r\n                return Promise.reject(error)\r\n            }\r\n            const tokens = {\r\n                accessToken: localStorage.getItem('accessToken'),\r\n                refreshToken: localStorage.getItem('refreshToken')\r\n            }\r\n\r\n            try {\r\n                const response = await axios.post(REFRESH_TOKEN, {\r\n                    'Content-Type': 'application/json'\r\n                }, tokens)\r\n                localStorage.setItem('accessToken', response.data.token.accessToken)\r\n                localStorage.setItem('refreshToken', response.data.token.refreshToken)\r\n\r\n                axios.defaults.headers.common[\"Authorization\"] = `Bearer ${response.data.token.accessToken}`\r\n\r\n                error.hasRefreshedToken = true\r\n                return await Promise.reject(tokenError)\r\n            } catch {\r\n                const tokenError = new Error(\"Cannot refresh token\")\r\n                tokenError.originalError = error\r\n                return await Promise.reject(tokenError)\r\n            }\r\n        }\r\n\r\n\r\n    )\r\n}\r\n\r\nasync function axiosWithTokenRefresh(config) {\r\n    try {\r\n        return await axios(config)\r\n    } catch (error) {\r\n        return await (error.hasRefreshedToken ? axios(config) : Promise.reject(error))\r\n    }\r\n}\r\n\r\n\r\nexport const fetcher = async (url, config) => {\r\n    //   const { getLocalStorage } = localStorageHooks()\r\n    //   const roleId = getLocalStorage(LOCALSTORAGE_KEY.ROLE_ID)\r\n\r\n    const header = {\r\n        ...config,\r\n        url,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            ...config?.headers\r\n        }\r\n    }\r\n\r\n    try {\r\n        axiosInterceptor()\r\n        // axiosWithTokenRefresh()\r\n        // axiosInterceptorResponse()\r\n        const res = await axios.request(header)\r\n\r\n        if (res) {\r\n            return res\r\n        }\r\n    } catch (err) {\r\n        throw err?.response\r\n    }\r\n}\r\n","import { Fragment } from \"react\";\r\nimport Avatar from '@components/avatar'\r\n\r\nconst ToastUpdate = ({icon, content, title}) => (\r\n   <Fragment>\r\n      <div className='toastify-header'>\r\n         <div className='title-wrapper'>\r\n            <Avatar size='sm' color='success' icon={icon} />\r\n            <h6 className='toast-title font-weight-bold'>{title}</h6>\r\n         </div>\r\n      </div>\r\n      <div className='toastify-body'>\r\n         <span>{content}</span>\r\n      </div>\r\n   </Fragment>\r\n)\r\n\r\nexport default ToastUpdate","import { Fragment } from \"react\"\r\nimport Avatar from '@components/avatar'\r\n\r\nconst ToastError = ({ icon, content, title }) => (\r\n   <Fragment>\r\n      <div className='toastify-header'>\r\n         <div className='title-wrapper'>\r\n            <Avatar size='sm' color='warning' icon={icon} />\r\n            <h6 className='toast-title font-weight-bold'>{title}</h6>\r\n         </div>\r\n      </div>\r\n      <div className='toastify-body'>\r\n         <span>{content}</span>\r\n      </div>\r\n   </Fragment>\r\n)\r\n\r\nexport default ToastError","import { toast, Slide } from 'react-toastify'\r\nimport ToastUpdate from '../views/components/toasts/ToastUpdate'\r\nimport ToastError from '../views/components/toasts/ToastError'\r\n\r\nexport const Toast = ({icon, title, content}) => {\r\n   toast.success(\r\n      <ToastUpdate\r\n         icon={icon}\r\n         title={title}\r\n         content={content}\r\n      />,\r\n      { transition: Slide, hideProgressBar: true, autoClose: 4000 }\r\n   )\r\n}\r\n\r\nexport const ToastWarning = ({ icon, title, content }) => {\r\n   toast.warning(\r\n      <ToastError\r\n         icon={icon}\r\n         title={title}\r\n         content={content}\r\n      />,\r\n      { transition: Slide, hideProgressBar: true, autoClose: 4000 }\r\n   )\r\n}","import { fetcher } from '@src/utility/axiosHooks'\r\nimport { GET_VOUCHER, GET_VOUCHER_BYID } from '@src/utility/Url'\r\nimport { Check, X } from 'react-feather'\r\nimport { Toast, ToastWarning } from '@src/utility/Toast'\r\n// Get All Data Voucher\r\nexport const getVoucher = params => {\r\n   return async dispatch => {\r\n      try {\r\n         const res = await fetcher(GET_VOUCHER, { params })\r\n         if (res) {\r\n            dispatch({\r\n               type: 'GET_DATA_VOUCHER',\r\n               data: res?.data?.data,\r\n               totalPages: res?.data?.total,\r\n               params\r\n            })\r\n         }\r\n      } catch (error) {\r\n         console.log(error)\r\n      }\r\n   }\r\n}\r\n\r\nexport const getVoucherById = (id) => {\r\n   return async dispatch => {\r\n      try {\r\n         const res = await fetcher(GET_VOUCHER_BYID(id))\r\n         if (res) {\r\n            dispatch({\r\n               type: 'GET_VOUCHER_BYID',\r\n               selectedVoucher: res?.data?.data\r\n            })\r\n         }\r\n      } catch (error) {\r\n         console.log(error)\r\n      }\r\n   }\r\n}\r\n\r\nexport const addVoucher = voucher => {\r\n   return async (dispatch, getState) => {\r\n      try {\r\n         const req = {\r\n            method: 'POST',\r\n            data: voucher\r\n         }\r\n         const res = await fetcher(GET_VOUCHER, req)\r\n         if (res) {\r\n               dispatch({\r\n                  type: 'ADD_VOUCHER',\r\n                  voucher\r\n               })\r\n               dispatch(getVoucher(getState().vouchers?.params))\r\n            Toast({ icon: <Check size={12} />, title: 'Berhasil Horeee', content: res?.data?.message })\r\n         }\r\n      } catch (error) {\r\n         ToastWarning({\r\n            icon: <X size={12} />,\r\n            title: 'Ada error nih',\r\n            content: error?.data?.message\r\n         })\r\n      }\r\n   }\r\n}\r\n\r\nexport const deleteVoucher = id => {\r\n   return async (dispatch, getState) => {\r\n      try {\r\n         const res = await fetcher(GET_VOUCHER_BYID(id), {\r\n            method: 'DELETE'\r\n         })\r\n         if (res) {\r\n            dispatch({\r\n               type: 'DELETE_VOUCHER'\r\n            })\r\n            dispatch(getVoucher(getState().charges?.params))\r\n            Toast({ icon: <Check size={12} />, title: 'Berhasil Horeee', content: res?.data?.message })\r\n         }  \r\n\r\n      } catch (error) {\r\n         ToastWarning({\r\n            icon: <X size={12} />,\r\n            title: 'Ada error nih',\r\n            content: error?.data?.message\r\n         })\r\n      }\r\n   }\r\n}\r\n\r\nexport const updateVoucher = (id, voucher) => {\r\n   return async (dispatch, getState) => {\r\n      try {\r\n         const req = {\r\n            method: 'PUT',\r\n            data: voucher\r\n         }\r\n\r\n         const res = await fetcher(GET_VOUCHER_BYID(id), req)\r\n               if (res) {\r\n                  dispatch({\r\n                     type: 'UPDATE_VOUCHER',\r\n                     data: res?.data?.data\r\n                  })\r\n                  dispatch(getVoucher(getState().vouchers?.params))\r\n                  Toast({ icon: <Check size={12} />, title: 'Berhasil Horeee', content: res?.data?.message })\r\n               }\r\n      } catch (error) {\r\n         ToastWarning({\r\n            icon: <X size={12} />,\r\n            title: 'Ada error nih',\r\n            content: error.data.message\r\n         })\r\n      }\r\n   }\r\n}"],"sourceRoot":""}