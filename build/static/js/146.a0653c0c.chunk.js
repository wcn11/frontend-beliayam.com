(this["webpackJsonpadmin-dashboard-beliayam"]=this["webpackJsonpadmin-dashboard-beliayam"]||[]).push([[146],{2025:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(1),c=n(527),o=n(465),i=n(495),s=n(123),d=n(687),u=n(481),l=n(511),m=n(130),j=n(594),b=n(1169),p=n(1199),h=n(1268),f=n(517),O=n(520),x=n(515),v=n(619),y=n(463),g=n(471),k=n(472),A=n(1138),P=n(486),C=n(499),w=n(1107),R=n(1135),N=n(611),T=n(6),V=function(e){var t=e.selectedPromo,n=Object(s.b)(),o=Object(c.i)().id,V=Object(i.c)(),E=V.register,_=V.errors,B=V.handleSubmit,D=Object(r.useState)(!1),S=Object(a.a)(D,2),q=S[0],z=S[1],L=Object(r.useState)(null),M=Object(a.a)(L,2),U=(M[0],M[1]),I=Object(r.useState)(null),G=Object(a.a)(I,2),F=G[0],J=G[1];Object(r.useEffect)((function(){n(Object(d.d)(o))}),[o]),Object(r.useEffect)((function(){J(t)}),[t]);var H=function(){return Object(T.jsxs)(f.a,{isOpen:q,toggle:function(){return z(!q)},className:"modal-dialog-centered",children:[Object(T.jsx)(O.a,{toggle:function(){return z(!q)},children:"Vertically Centered"}),Object(T.jsx)(x.a,{children:"Oat cake ice cream candy chocolate cake chocolate cake cotton candy drag\xe9e apple pie. Brownie carrot cake candy canes bonbon fruitcake topping halvah. Cake sweet roll cake cheesecake cookie chocolate cake liquorice."}),Object(T.jsxs)(v.a,{children:[Object(T.jsx)(y.a,{color:"primary",onClick:function(){return z(!q)},children:"Accept"})," "]})]})};return F?Object(T.jsxs)(g.a,{children:[Object(T.jsx)(k.a,{sm:"12",children:Object(T.jsx)(A.a,{className:"mb-2",children:Object(T.jsxs)(A.a,{className:"mt-50",body:!0,children:[Object(T.jsxs)("h4",{children:[t.name," "]}),Object(T.jsxs)("div",{className:"d-flex flex-wrap mt-1 px-0",children:[Object(T.jsxs)(y.a.Ripple,{id:"change-img",tag:P.a,className:"mr-75 mb-0",color:"primary",children:[Object(T.jsx)("span",{className:"d-none d-sm-block",children:"Change"}),Object(T.jsx)("span",{className:"d-block d-sm-none",children:Object(T.jsx)(p.a,{size:14})}),Object(T.jsx)("input",{type:"file",hidden:!0,id:"change-img",onChange:function(e){var t=new FileReader,n=e.target.files;t.onload=function(){U(t.result)},t.readAsDataURL(n[0])},accept:"image/*"})]}),Object(T.jsxs)(y.a.Ripple,{color:"secondary",outline:!0,children:[Object(T.jsx)("span",{className:"d-none d-sm-block",children:"Remove"}),Object(T.jsx)("span",{className:"d-block d-sm-none",children:Object(T.jsx)(h.a,{size:14})})]})]})]})})}),Object(T.jsx)(k.a,{sm:"12",children:Object(T.jsx)(C.a,{onClick:function(e){return e.preventDefault(H)},children:Object(T.jsxs)(g.a,{children:[Object(T.jsx)(k.a,{md:"4",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"name",children:"Promo Name"}),Object(T.jsx)(R.a,{type:"text",id:"name",name:"name",placeholder:"Charge Name",defaultValue:F.name,innerRef:E({required:!0})})]})}),Object(T.jsx)(k.a,{md:"4",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"slug",children:"Slug"}),Object(T.jsx)(R.a,{type:"text",id:"slug",name:"slug",placeholder:"Charge By...",defaultValue:F.slug,innerRef:E({required:!0})})]})}),Object(T.jsx)(k.a,{md:"4",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"tags",children:"Tags"}),Object(T.jsx)(R.a,{type:"text",id:"tags",name:"tags",placeholder:"Charge Value...",defaultValue:F.tags,innerRef:E({required:!0})})]})}),Object(T.jsx)(k.a,{md:"4",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"promoValue",children:"Promo Value"}),Object(T.jsx)(R.a,{type:"number",id:"promoValue",name:"promoValue",placeholder:"Short Description....",defaultValue:F.promoValue,innerRef:E({required:!0})}),Object(T.jsx)(N.a,{children:"Hanya masukan nomor (jangan jail)"})]})}),Object(T.jsx)(k.a,{md:"4",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"promoBy",children:"Promo By"}),Object(T.jsx)(R.a,{type:"text",id:"promoBy",name:"promoBy",placeholder:"Promo By....",defaultValue:F.promoBy,innerRef:E({required:!0})}),Object(T.jsx)(N.a,{children:"Price/Percent"})]})}),Object(T.jsx)(k.a,{md:"4",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"products",children:"Add Products"}),Object(T.jsx)(l.a,{id:"products",name:"products",isMulti:!0,options:[{vale:"broiler",label:"broiler"},{vale:"pejantan",label:"pejantan"}],placeholder:"Add product....",defaultValue:F.products,innerRef:E({required:!0})}),Object(T.jsx)(N.a,{children:"Add product in promo"})]})}),Object(T.jsx)(k.a,{md:"12",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"termsAndConditions",children:"Terms And Condition"}),Object(T.jsx)(R.a,{type:"textarea","no-resize":"true",rows:"8",id:"termsAndConditions",name:"termsAndConditions",placeholder:"Terms And Condition....",defaultValue:F.termsAndConditions,innerRef:E({required:!0})})]})}),Object(T.jsx)(k.a,{md:"12",sm:"12",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)(P.a,{for:"description",children:"Description"}),Object(T.jsx)(R.a,{type:"textarea",id:"description","no-resize":"true",rows:"8",name:"description",placeholder:"Short Description....",defaultValue:F.description,innerRef:E({required:!0})})]})}),Object(T.jsxs)(k.a,{className:"d-flex flex-sm-row flex-column mt-2",sm:"12",children:[Object(T.jsx)(y.a.Ripple,{onClick:function(){return z(!q)},className:"mb-1 mb-sm-0 mr-0 mr-sm-1",type:"submit",color:"primary",children:"Save Changes"}),Object(T.jsx)(y.a.Ripple,{color:"secondary",outline:!0,children:"Reset"})]}),Object(T.jsxs)(f.a,{isOpen:q,toggle:function(){return z(!q)},className:"modal-dialog-centered",children:[Object(T.jsx)(O.a,{toggle:function(){return z(!q)},children:"Update Promo"}),Object(T.jsx)(x.a,{children:"Apakah anda yakin untuk mengedit data tersebut?, pastikan sudah benar, cek lagi apa sudah yakin?"}),Object(T.jsxs)(v.a,{children:[Object(T.jsx)(y.a,{color:"primary",onClick:B((function(e){Object(u.f)(_)&&n(Object(d.e)(o,{name:e.name,slug:e.slug,tags:e.tags,image_promo:e.image_promo,description:e.description,termsAndConditions:e.termsAndConditions,products:e.products})),z(!q),m.f.success(Object(T.jsx)(j.a,{icon:Object(T.jsx)(b.a,{size:12}),content:"Promo"}),{transition:m.c,hideProgressBar:!0,autoClose:3e3})})),children:"Accept"})," ",Object(T.jsx)(y.a,{color:"primary",outline:!0,onClick:function(){return z(!q)},children:"Cancel"})," "]})]})]})})})]}):null},E=n(1240),_=n(470),B=n(468),D=n(529),S=n(1146),q=n(1147),z=n(539),L=n(540),M=n(502);n(497),t.default=function(){var e=Object(r.useState)("1"),t=Object(a.a)(e,2),n=t[0],i=t[1],u=Object(s.c)((function(e){return e.promos})),l=Object(s.b)(),m=Object(c.i)().id;return Object(r.useEffect)((function(){return l(Object(d.d)(m)),function(){return l(Object(d.d)(m))}}),[l,m]),null!==u.selectedPromo&&void 0!==u.selectedPromo?Object(T.jsx)(g.a,{className:"app-user-edit",children:Object(T.jsx)(k.a,{sm:"12",children:Object(T.jsx)(_.a,{children:Object(T.jsxs)(B.a,{className:"pt-2",children:[Object(T.jsx)(D.a,{pills:!0,children:Object(T.jsx)(S.a,{children:Object(T.jsxs)(q.a,{active:"1"===n,onClick:function(){return i("1")},children:[Object(T.jsx)(E.a,{size:14}),Object(T.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Promo"})]})})}),Object(T.jsxs)(z.a,{activeTab:n,children:[Object(T.jsx)(L.a,{tabId:"1",children:Object(T.jsx)(V,{selectedPromo:u.selectedPromo})}),Object(T.jsx)(L.a,{tabId:"2"}),Object(T.jsx)(L.a,{tabId:"3"})]})]})})})}):Object(T.jsxs)(M.a,{color:"danger",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Promo not found"}),Object(T.jsxs)("div",{className:"alert-body",children:["Promo with id: ",m," doesn't exist. Check list of all Promos: ",Object(T.jsx)(o.b,{to:"/order/promo/list",children:"Promos List"})]})]})}},480:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"p",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return x}));var a="https://be-dev.beliayam.com/api/v1/admin/auth/refresh-token",r="https://be-dev.beliayam.com/api/v1/admin/auth/login",c="https://be-dev.beliayam.com/api/v1/admin/users",o=function(e){return"https://be-dev.beliayam.com/api/v1/admin/users/".concat(e)},i=function(e){return"https://be-dev.beliayam.com/api/v1/admin/users/".concat(e)},s="https://be-dev.beliayam.com/api/v1/admin/category",d=function(e){return"https://be-dev.beliayam.com/api/v1/admin/category/".concat(e)},u="https://be-dev.beliayam.com/api/v1/admin/product",l=function(e){return"https://be-dev.beliayam.com/api/v1/admin/product/".concat(e)},m="https://be-dev.beliayam.com/api/v1/admin/charge",j=function(e){return"https://be-dev.beliayam.com/api/v1/admin/charge/".concat(e)},b="https://be-dev.beliayam.com/api/v1/admin/promo",p=function(e){return"https://be-dev.beliayam.com/api/v1/admin/promo/".concat(e)},h="https://be-dev.beliayam.com/api/v1/admin/voucher",f=function(e){return"https://be-dev.beliayam.com/api/v1/admin/voucher/".concat(e)},O="https://be-dev.beliayam.com/api/v1/admin/order",x=function(e){return"https://be-dev.beliayam.com/api/v1/admin/order/".concat(e)}},490:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(485),c=n(484),o=n.n(c),i=n(83),s=n.n(i);n(480);s.a.defaults.baseURL="https://be-dev.beliayam.com/",s.a.defaults.headers.common.Authorization="Bearer token";var d=s.a.create(),u=function(e){return localStorage.getItem(e)};var l=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(a.a)(Object(a.a)({},n),{},{url:t,headers:Object(a.a)({"Content-Type":"application/json"},null===n||void 0===n?void 0:n.headers)}),e.prev=1,d.interceptors.request.use(function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers.Authorization||u()&&(t.headers.Authorization="Bearer ".concat(u())),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,s.a.request(c);case 5:if(!(i=e.sent)){e.next=8;break}return e.abrupt("return",i);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),null===e.t0||void 0===e.t0?void 0:e.t0.response;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},497:function(e,t,n){},594:function(e,t,n){"use strict";var a=n(1),r=n(469),c=n(6);t.a=function(e){var t=e.icon,n=e.content;return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)("div",{className:"toastify-header",children:Object(c.jsxs)("div",{className:"title-wrapper",children:[Object(c.jsx)(r.a,{size:"sm",color:"success",icon:t}),Object(c.jsx)("h6",{className:"toast-title font-weight-bold",children:"Update Berhasil"})]})}),Object(c.jsx)("div",{className:"toastify-body",children:Object(c.jsxs)("span",{children:[n," telah berhasil diupdate, silahkan cek kembali!"]})})]})}},687:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return j}));var a=n(485),r=n(484),c=n.n(r),o=n(490),i=n(480),s=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(GET_ALL_DATA_PROMO).then((function(e){var n;console.log("ini all data",e),t({type:"GET_ALL_DATA_PROMO",data:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)(i.j,{params:e}).then((function(t){var a;n({type:"GET_DATA_PROMO",data:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data,totalPages:t.data.total,params:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(t){Object(o.a)(Object(i.k)(e)).then((function(e){var n;t({type:"GET_PROMO_BYID",selectedPromo:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data})})).catch((function(e){return console.log(e)}))}},l=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"POST",data:e},t.next=3,Object(o.a)(i.j,r).then((function(t){n({type:"ADD_PROMO",promo:e})})).then((function(){var e;n(d(null===(e=a().promos)||void 0===e?void 0:e.params)),n(s())}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)(Object(i.k)(e),{method:"DELETE"}).then((function(e){n({type:"DELETE_PROMO"})})).then((function(){var e;n(d(null===(e=a().promo)||void 0===e?void 0:e.params)),n(s())}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(a,r){var u,l,m,j,b,p,h,f,O,x,v,y,g,k;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u=t.name,l=t.slug,m=t.tags,j=t.products,b=t.termsAndConditions,p=t.promoValue,h=t.promoBy,f=t.promoStart,O=t.promoEnd,x=t.isActive,v=t.description,y=t.platform,t.image_promo,(g=new FormData).set("name",u),g.set("slug",l),g.set("tags",m),g.set("products",j),g.set("termsAndConditions",b),g.set("promoValue",p),g.set("promoBy",h),g.set("promoStart",f),g.set("promoEnd",O),g.set("isActive",x),g.set("description",v),g.set("platform",y),k={method:"PUT",data:g,headers:{"Content-Type":"multipart/form-data"}},n.next=18,Object(o.a)(Object(i.k)(e),k).then((function(e){e&&a({type:"UPDATE_PROMO",data:null===e||void 0===e?void 0:e.data.data})})).then((function(){var e;a(d(null===(e=r().promos)||void 0===e?void 0:e.params)),a(s())}));case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(0),console.log(n.t0);case 23:case"end":return n.stop()}}),n,null,[[0,20]])})));return function(e,t){return n.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=146.a0653c0c.chunk.js.map